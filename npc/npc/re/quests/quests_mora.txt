//===== Hercules Script ======================================
//= Mora Quest NPCs
//===== By: ==================================================
//= Euphy
//===== Current Version: =====================================
//= 1.1
//===== Description: =========================================
//= [Official Conversion]
//= Quest NPCs related to Mora:
//== Theore's Request, Chesire's New Day,
//== Helping Lope and Euridi, Mora Daily Quests,
//== Find the Research Tools, Knights of the Neighborhood
//===== Additional Comments: =================================
//= 0.1 NPCs are currently placeholders. [Euphy]
//= 1.0 Implemented all official quests. [Euphy]
//= 1.1 Added GM management function and NPCs. [Euphy]
//============================================================

// Theore's Request :: ep14_1_bs
//============================================================
mid_camp,148,222,4	script	德欧雷#ep14_1_bs	4_F_SCIENCE,3,3,{
	if (BaseLevel < 100) {
		mes "- 穿着白色衬衣的人 -";
		mes "- 拉扯自己的头发. -";
		close;
	}
	if (ep14_1_bs == 0) {
		mes "[德欧雷]";
		mes "Aaaarrrggghh!!!";
		mes "该死!!!!";
		mes "我完了!!!";
		next;
		mes "[德欧雷]";
		mes "如此糟糕, 让我怎么提交报告!!! 5岁的孩子都可以做的比这更好!!!";
		mes "不!!!";
		set ep14_1_bs,1;
		close;
	} else if (ep14_1_bs == 1) {
		mes "- 穿着白色衬衣的人 -";
		mes "- 拉扯自己的头发. -";
		next;
		if(select("- 尝试和他聊聊.:- 好吵.") == 2) {
			mes "[德欧雷]";
			mes "哦, 当然, 我很抱歉.";
			mes "我会小声一点.";
			close;
		}
		mes "["+strcharinfo(0)+"]";
		mes "先生... 你还好吗?";
		mes "这样下去你的头发都要掉了.";
		mes "冷静下来.";
		next;
		mes "[德欧雷]";
		mes "呜咽.......";
		next;
		mes "[德欧雷]";
		mes ".......";
		next;
		mes "[德欧雷]";
		mes "奥丁!!!";
		mes "弗蕾亚!!!!";
		mes "_扎利姆!!!";
		mes "谢谢你们!!";
		mes "这并没有全部结束!!";
		next;
		mes "[德欧雷]";
		mes "人们总是希望! 我, 德欧雷, 能持之以恒, 能继续!!";
		next;
		mes "[德欧雷]";
		mes "亲爱的冒险家!!!";
		mes "不, 不, 亲爱的勇士!!!!";
		mes "你现在忙不忙?";
		mes "如果你能给我一点时间, 我想你会得到不错的回报!";
		next;
		switch(select("- 我很忙.:- 继续听他说下去.")) {
		case 1:
			mes "[德欧雷]";
			mes ".......";
			mes "我知道, 我想这不能得到帮助.";
			mes "我可能会失去我所有的头发和头发生长的广告解决方案. 但我不会记仇的, 战士.";
			next;
			mes "[德欧雷]";
			mes "亲爱的上帝! 我的运气到此为止. *呜咽*";
			mes "即使全世界都背弃我, 我也不会责怪任何人!!!";
			close;
		case 2:
			mes "[德欧雷]";
			mes "啊哈哈!";
			mes "我觉得我得救了.";
			mes "所以事情是.......";
			next;
			mes "[德欧雷]";
			mes "哦! 哦 亲!";
			mes "我多么粗鲁, 我还没有介绍我自己.";
			mes "我叫德欧雷, 我在异世界为 '巴兹特黑茶'文学院工作.' ";
			next;
			mes "[德欧雷]";
			mes "我目前正在研究 在辉煌领域的精灵.";
			mes "可能是因为我的研究太投入了, 但这些日子精灵的所有人一看到我就逃跑了.";
			next;
			mes "[德欧雷]";
			mes "最后期限正在迫近, 我仍然没有想通最关键的部分. ";
			mes "我的导师会很失望 .......";
			next;
			mes "[德欧雷]";
			mes "所以你能不能拉我一把?!";
			mes "我会承认得到了你的帮助 - 我会亲口告诉我的导师!";
			next;
			switch(select("- 帮他.:- 不帮.")) {
			case 1:
				mes "[德欧雷]";
				mes "呜咽 呜咽 战士, 你是最棒的!";
				mes "我绝不会忘记!!!";
				mes "我要去写进我的日记!!";
				mes "和报告中!!!";
				mes "和寄回家的书信里!!";
				next;
				mes "[德欧雷]";
				mes "我会告诉我实验室的朋友!!!";
				mes "我会告诉 Lugen!!!";
				mes "我会写在布告栏上!!!";
				mes "让我们来看看!!! 还有什么地方?";
				next;
				mes "- 那人看上去非常的浮躁. -";
				mes "- 等到他平静下来 -";
				mes "- 并尝试再次跟他说话. -";
				set ep14_1_bs,2;
				setquest 11182;
				close;
			case 2:
				mes "[德欧雷]";
				mes ".......";
				mes "你这个坏人, 毁了我的前途.";
				mes "*呜咽*";
				close;
			}
		}
	} else if (ep14_1_bs == 2) {
		if (checkquest(11182,PLAYTIME) < 2) {
			mes "[德欧雷]";
			mes "......";
			switch(rand(1,4)) {
			case 1:
				mes "我要告诉我的隔壁邻居皮克!!!";
				mes "和Kachua!!!";
				break;
			case 2:
				mes "告诉对面街的商人!!!";
				mes "当然也告诉管理员!!!";
				break;
			case 3:
				mes "告诉霍根先生!!!";
				mes "给国王写一份报告!!!";
				break;
			case 4:
				mes "告诉这里周围的人!!!";
				mes "从天文台上大声喊出好让全世界都听到!!!";
				break;
			}
			next;
			mes "- 他仍然很躁狂. -";
			mes "- 等到他平静下来 -";
			mes "- 并尝试再次和他说话. -";
			close;
		}
		mes "[德欧雷]";
		mes "我得道歉.";
		mes "我有点兴奋.";
		mes "我向您道歉.";
		next;
		mes "[德欧雷]";
		mes "我通常是一个冷静和理性的人, 但它让感觉就像我已经无处不在 - 天堂和地狱 - 今天!";
		next;
		mes "[德欧雷]";
		mes "重要的是: 我想问你是不是一个艰巨的任务.";
		next;
		mes "[德欧雷]";
		mes "正如你所知道的, 精灵与盗贼行会正在战争中.";
		mes "直到最近, 他们无情的袭击了盗贼行会";
		next;
		mes "[德欧雷]";
		mes "但在这之后,攻击的次数显著下降了.";
		mes "我不明白为什么, 他们是专一的生物, 它们是不可能在同情盗贼行会的情况.";
		next;
		mes "[德欧雷]";
		mes "当然, 有传言说手无寸铁的精灵飞过田野了.";
		next;
		mes "[德欧雷]";
		mes "我看过一次, 但他发现了我立刻就逃走了,我没有机会问他.";
		mes "我肯定他回到村子里. 但我想拼命地问,我被禁止进入辉煌领域.";
		next;
		select("禁止?");
		mes "[德欧雷]";
		mes "好吧...";
		mes "教授安排我到这个研究项目后我很兴奋.......";
		mes "我分析辉煌领域白天和黑夜, 他们最后把我踢出去.";
		mes "哈哈哈!";
		next;
		mes "[德欧雷]";
		mes "这个精灵看起来很可爱, 但是他们是战斗专家.......";
		mes "所以我在这里, 没有勇气去潜入, 但该报告完成了一半......";
		next;
		mes "[德欧雷]";
		mes "告诉我, 有比我的生活更不幸?";
		mes "*咯咯*";
		next;
		mes "[德欧雷]";
		mes "所以战士, 你可以找出来自辉煌领域的精灵, 并找出他们在做些什么?";
		next;
		mes "[德欧雷]";
		mes "如果你尝试和他们说话他们可能会逃跑, 当你发现一个就要密切注意.";
		next;
		mes "[德欧雷]";
		mes "这个精灵真是个吵闹的船员, 看到安静的他们会令人很不安 - 几乎像一个巨大的雷雨前的平静";
		set ep14_1_bs,3;
		changequest 11182,11183;
		close;
	} else if (ep14_1_bs == 3) {
		mes "[德欧雷]";
		mes "所以战士, 你能不能问下来自辉煌领域的精灵?";
		next;
		mes "[德欧雷]";
		mes "如果你试着跟他们说话, 他们可能会跑掉, 当你找到一个这样的人的话, 你需要特别注意这点.";
		next;
		mes "[德欧雷]";
		mes "这个精灵是个非常粗暴的船员, 这是非常令人不安的, 看看他们已经多么的安静 - 几乎像一个巨大的雷雨前的平静期.";
		close;
	} else if (ep14_1_bs < 10) {
		if (ep14_1_bs2 == 0) {
			mes "- 他在没有任何意识下开始胡言乱语. 您应当去辉煌领域寻找它的主人. -";
			close;
		} else if (ep14_1_bs2 < 4) {
			mes "[德欧雷]";
			mes "唔...... 他们在灌木丛翻箱倒柜?";
			mes "唔... 唔...";
			next;
			mes "[德欧雷]";
			mes "他们身上可能有线索, 可以请你看看周围地区?";
			mes "如果他们正在寻找在灌木丛中, 他们可能一直在寻找他们失去了的东西.";
			mes "或者他们可能已经把什么东西藏在那里了.";
			close;
		} else if (ep14_1_bs2 < 7) {
			if (countitem(6390) == 0) {
				mes "[德欧雷]";
				mes "他们可能会留下一些线索, 可以请你去看看周围的地区?";
				mes "如果他们正在寻找在灌木丛中, 他们可能一直在寻找他们失去了的东西.";
				mes "或者他们可能已经把什么东西藏在那里了.";
				close;
			}
			mes "[德欧雷]";
			mes "一伙精灵丢下了一个袋子然后跑了?";
			mes "唔... 恩... 柔软的皮革小袋一个字符串由油中浸泡干葡萄藤....这对于人类或盗贼们来说也太小了...";
			next;
			mes "[德欧雷]";
			mes "莫非......莫非??!!";
			mes "是那个?!";
			mes "我只是听说过, 但从来没有见过!!!";
			next;
			mes "[德欧雷]";
			mes "在古代, 像这样在一个小袋子, 用来存放精灵仙尘 - 精灵粉袋子, 最大限度地减少灰尘 -.";
			next;
			mes "[德欧雷]";
			mes "精灵们最喜欢奢华的物品. 但这个'守护精灵袋子'的东西, 他们总是随身携带, 它是简单而不奢侈的装饰品, 与精灵们的传统非常接近.";
			next;
			mes "[德欧雷]";
			mes "我虽然不清除它里面有什么, 但如果是这样的'守护精灵袋子'的主人应该是急于找到它.";
			next;
			mes "[德欧雷]";
			mes "我们不能白白的还给他们. 交换一些情报 - 这是一个公平的交易!";
			next;
			mes "[德欧雷]";
			mes "也许他们不会太难过, 如果我们看里面的小袋袋!";
			mes "Wooow!!";
			mes "我小的时候始终坚信有一天, 仙子会来和我洒尘土飞扬, 让我飞!!!";
			next;
			mes "- 我刚想阻止他的时候, -";
			mes "- 他已经打开了这个袋子. -";
			next;
			mes "[德欧雷]";
			mes ".......";
			next;
			mes "[德欧雷]";
			mes "噢...";
			mes "浆果......和叶子?";
			mes ".......";
			next;
			mes "[德欧雷]";
			mes "......仙尘在哪里?";
			mes "不不不!";
			mes "真让我无法想象!!!!";
			next;
			mes "- 他在没有任何意识下开始胡言乱语. 你应当收起守护精灵袋子并去寻找它的主人. -";
			set ep14_1_bs2, ep14_1_bs2+3; //4,5,6 -> 7,8,9
			changequest 11185,11186;
			close;
		} else {
			mes "- 他在没有任何意识下开始胡言乱语. 你应当收起守护精灵袋子并去寻找它的主人. -";
			close;
		}
	} else if (ep14_1_bs < 18) {
		mes "- 他似乎很忙. 你应该完成手头上的任务再回来. -";
		close;
	} else if (ep14_1_bs == 18) {
		mes "[德欧雷]";
		mes "最终你还是回来了!!!!";
		mes "调查的情况如何?!";
		next;
		mes "[德欧雷]";
		mes "Wow!!!";
		mes "难以置信!!!!!!";
		mes "令人难以置信!!!";
		next;
		mes "[德欧雷]";
		mes "最好的!!!!";
		mes "写一份出色的报告, 这肯定是不够的!!";
		mes "太感激你了, 战士!!";
		next;
		mes "[德欧雷]";
		mes "我将永远, 永远不会忘记你为我做的事情!";
		mes "不!!";
		mes "我们世世代代都会记得的!!!!";
		mes "*哭泣*";
		next;
		mes "[德欧雷]";
		mes "接下去我要把报告给完成!!!!!!!";
		mes "噢耶!!!!";
		set ep14_1_bs,19;
		getexp 0,200000;
		getitem 6380,5; //Mora_Coin
		close;
	} else if (ep14_1_bs > 18) {
		mes "[德欧雷]";
		mes "我会以闪电般的速度写报告!!!!!!!";
		mes "噢耶!!!!";
		close;
	}
	end;
OnTouch:
	if (BaseLevel > 99) {
		if (ep14_1_bs == 0) {
			mes "[德欧雷]";
			mes "Aaaarrrggghh!!!";
			mes "该死!!!!";
			mes "我完蛋了!!!";
			next;
			mes "[德欧雷]";
			mes "我应该如何提交一份报告, 这是如此糟糕! 5年的时间啊!!!";
			mes "不!!!";
			set ep14_1_bs,1;
			close;
		}
	}
	end;
}

-	script	#mora_bush	-1,{
	if (ep14_1_bs != 3 || rand(5)) {
		mes "- 这只是一堆普通的灌木. -";
		close;
	}
	set .@i, atoi(charat(strnpcinfo(2),9));
	set .@rand, rand(1,3);
	mes "[空着手的精灵]";
	mes "Aaaarrrrrggggghhhhh!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!";
	donpcevent "仙子#cmd"+.@i+.@rand+"::OnEnable";
	set ep14_1_bs, .@i+3;
	set ep14_1_bs2, .@rand;
	changequest 11183,11184;
	next;
	mes "- 这个精灵在灌木附近寻找什么, -";
	mes "- 你应该和这个精灵谈谈, -";
	mes "- 但是他们惊慌失措 -";
	mes "- 的飞走了. -";
	next;
	mes "- 这些仙子在干什么? -";
	mes "- 决定环顾四周. -";
	donpcevent "灌木"+.@i+"Timer::OnEnable";
	close;
OnEnable:
	enablenpc strnpcinfo(0);
	donpcevent "灌木"+charat(strnpcinfo(2),9)+"Timer::OnDisable";
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	end;
}

-	script	#mora_pouch	-1,{
	end;
OnTouch:
	set .@i, atoi(charat(strnpcinfo(2),9));
	if (ep14_1_bs == .@i+3) {
		if (countitem(6390) == 0) {
			if (checkweight(1201,1) == 0) {
				mes " - 暂停 !! -";
				mes " - 您所携带的物品过多 - ";
		   		mes " - 如果想获得更多物品. - ";
				mes " - 请做一些清理工作 - ";
		   		mes " - 再回来尝试. - ";
				close;
			}
			if (MaxWeight - Weight < 1000) {
				mes " - 暂停 !! -";
			 	mes " - 您的负重不足 - ";
				mes " - 请做一些清理工作 - ";
		   		mes " - 再回来尝试. - ";
				close;
			}
			mes "- 随意摸索 -";
			mes "- 沙沙的喧嚣声 -";
			next;
			if (rand(1,5) == 4) {
				mes "- 您找到一个小袋子. -";
				if (ep14_1_bs2 > 0 && ep14_1_bs2 < 4)
					set ep14_1_bs2, ep14_1_bs2+3;
				changequest 11184,11185;
				getitem 6390,1; //Small_Pocket
				close;
			} else {
				mes "- 您没有找到任何东西. -";
				close;
			}
		}
	}
	end;
}

-	script	#mora_fairy	-1,{
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	stopnpctimer;
	end;
OnTimer5000:
	donpcevent strnpcinfo(0)+"::OnDisable";
	stopnpctimer;
	end;
}

spl_fild02,79,104,0	duplicate(#mora_bush)	灌木#ep14_1_bs1	HIDDEN_NPC
spl_fild02,79,104,0	duplicate(#mora_pouch)	#ep14_1_bs1	HIDDEN_WARP_NPC,2,2
spl_fild02,79,104,6	duplicate(#mora_fairy)	仙子#cmd11	4_F_FAIRYKID5
spl_fild02,79,104,6	duplicate(#mora_fairy)	仙子#cmd12	4_M_FAIRYKID4
spl_fild02,79,104,6	duplicate(#mora_fairy)	仙子#cmd13	4_F_FAIRYKID4

spl_fild02,103,344,0	duplicate(#mora_bush)	灌木#ep14_1_bs2	HIDDEN_NPC
spl_fild02,103,344,0	duplicate(#mora_pouch)	#ep14_1_bs2	HIDDEN_WARP_NPC,2,2
spl_fild02,103,344,6	duplicate(#mora_fairy)	仙子#cmd21	4_F_FAIRYKID5
spl_fild02,103,344,6	duplicate(#mora_fairy)	仙子#cmd22	4_M_FAIRYKID4
spl_fild02,103,344,6	duplicate(#mora_fairy)	仙子#cmd23	4_F_FAIRYKID4

spl_fild02,261,323,0	duplicate(#mora_bush)	灌木#ep14_1_bs3	HIDDEN_NPC
spl_fild02,261,323,0	duplicate(#mora_pouch)	#ep14_1_bs3	HIDDEN_WARP_NPC,2,2
spl_fild02,261,323,6	duplicate(#mora_fairy)	仙子#cmd31	4_F_FAIRYKID5
spl_fild02,261,323,6	duplicate(#mora_fairy)	仙子#cmd32	4_M_FAIRYKID4
spl_fild02,261,323,6	duplicate(#mora_fairy)	仙子#cmd33	4_F_FAIRYKID4

spl_fild02,137,305,0	duplicate(#mora_bush)	灌木#ep14_1_bs4	HIDDEN_NPC
spl_fild02,137,305,0	duplicate(#mora_pouch)	#ep14_1_bs4	HIDDEN_WARP_NPC,2,2
spl_fild02,137,305,6	duplicate(#mora_fairy)	仙子#cmd41	4_F_FAIRYKID5
spl_fild02,137,305,6	duplicate(#mora_fairy)	仙子#cmd42	4_M_FAIRYKID4
spl_fild02,137,305,6	duplicate(#mora_fairy)	仙子#cmd43	4_F_FAIRYKID4

spl_fild02,23,196,0	duplicate(#mora_bush)	灌木#ep14_1_bs5	HIDDEN_NPC
spl_fild02,23,196,0	duplicate(#mora_pouch)	#ep14_1_bs5	HIDDEN_WARP_NPC,2,2
spl_fild02,23,196,6	duplicate(#mora_fairy)	仙子#cmd51	4_F_FAIRYKID5
spl_fild02,23,196,6	duplicate(#mora_fairy)	仙子#cmd52	4_M_FAIRYKID4
spl_fild02,23,196,6	duplicate(#mora_fairy)	仙子#cmd53	4_F_FAIRYKID4

spl_fild02,186,260,0	duplicate(#mora_bush)	灌木#ep14_1_bs6	HIDDEN_NPC
spl_fild02,186,260,0	duplicate(#mora_pouch)	#ep14_1_bs6	HIDDEN_WARP_NPC,2,2
spl_fild02,186,260,6	duplicate(#mora_fairy)	仙子#cmd61	4_F_FAIRYKID5
spl_fild02,186,260,6	duplicate(#mora_fairy)	仙子#cmd62	4_M_FAIRYKID4
spl_fild02,186,260,6	duplicate(#mora_fairy)	仙子#cmd63	4_F_FAIRYKID4

-	script	#mora_bush_timer	-1,{
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc strnpcinfo(0);
	end;
OnTimer1000:
	donpcevent "灌木#ep14_1_bs"+charat(strnpcinfo(0),4)+"::OnDisable";
	end;
OnTimer600000:
	donpcevent "灌木#ep14_1_bs"+charat(strnpcinfo(0),4)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
spl_fild02,180,1,0	duplicate(#mora_bush_timer)	Bush1Timer	4_F_FAIRYKID5
spl_fild02,181,1,0	duplicate(#mora_bush_timer)	Bush2Timer	4_F_FAIRYKID5
spl_fild02,182,1,0	duplicate(#mora_bush_timer)	Bush3Timer	4_F_FAIRYKID5
spl_fild02,183,1,0	duplicate(#mora_bush_timer)	Bush4Timer	4_F_FAIRYKID5
spl_fild02,184,1,0	duplicate(#mora_bush_timer)	Bush5Timer	4_F_FAIRYKID5
spl_fild02,186,1,0	duplicate(#mora_bush_timer)	Bush6Timer	4_F_FAIRYKID5

spl_fild02,187,1,0	script	Field Bush Switch	4_F_FAIRYKID5,{
	callfunc "F_GM_NPC";
	donpcevent "Bush#ep14_1_bs1::OnEnable";
	end;
}

splendide,183,117,4	script	看上去很疲倦的仙子	4_F_FAIRYKID3,{
	if (!isequipped(2782)) {
		mes "[看上去很疲倦的仙子]";
		mes "VeOsaRiveh No ModAsh";
		next;
		mes "- 你无法理解仙子的话. -";
		mes "- 你需要些东西能够翻译这些语言. -";
		close;
	}
	if (ep14_1_bs < 4) {
		mes "[看上去很疲倦的仙子]";
		mes "我很疲倦, 请别和我说话.";
		close;
	} else if (ep14_1_bs < 10) {
		if (checkquest(11187) == -1) {
			mes "[看上去很疲倦的仙子]";
			mes "我很疲倦, 请别和我说话.";
			next;
			select("拿出小袋子.");
			mes "[看上去很疲倦的仙子]";
			mes "唔?!";
			mes "你到这里来干嘛?!";
			next;
			select("I found it in the bushes.");
			mes "[看上去很疲倦的仙子]";
			mes "这看上去不像, 这对我们很重要. 我想我应该对你说声谢谢.";
			next;
			mes "[看上去很疲倦的仙子]";
			mes "如果只靠这个袋子的话, 是很难找到它的主人的...";
			changequest 11186,11187;
			next;
			if(select("- 我看到了一个仙子, 我觉得可能是它的主人.:- 我再考虑下.") == 2) {
				mes "[看上去很疲倦的仙子]";
				mes "如果你想起了什么记得告诉我.";
				close;
			}
		} else if (checkquest(11187) == 2) {
			mes "[看上去很疲倦的仙子]";
			mes "我希望你能找到它的主人.";
			close;
		}
		mes "[看上去很疲倦的仙子]";
		mes "你还记得那个仙子的相貌吗?";
		next;

		setarray .@Hair$[0],"金色","绿色","褐色","蓝色";
		setarray .@Skin$[0],"深色","浅色";
		setarray .@Clothing$[0],"白色","紫色","蓝色","绿色";
		setarray .@Wings$[0],"圆的","两对","特殊";

		setarray .@i[1],
			select("金色头发:绿色头发:褐色头发:蓝色头发"),
			select("深色皮肤:浅色皮肤"),
			select("白色衣服:紫色衣服:蓝色衣服:绿色衣服"),
			select("圆的翅膀:两对翅膀:特殊翅膀");

		set .@i[0], (1 << .@i[1]) | (1 << (.@i[2]+4)) | (1 << (.@i[3]+6)) | (1 << (.@i[4]+10));

		mes "[看上去很疲倦的仙子]";
		mes "A "+.@Skin$[.@i[2]-1]+"-仙子的皮肤 "+.@Hair$[.@i[1]-1]+" 头发和 "+.@Wings$[.@i[4]-1]+" 翅膀, 穿着 "+.@Clothing$[.@i[3]-1]+" 的衣服.......";
		switch(.@i[0]) {
		case 4418: // Kusmi: blonde hair, light skin, grape clothing, two pairs of wings
			mes "嗯...... 我想应该是库斯米.";
			next;
			mes "[看上去很疲倦的仙子]";
			mes "库斯米应该在村子的东南面寻找.";
			mes "如果她丢了自己的袋子应该很着急, 去找她看看吧.";
			if (ep14_1_bs2 == 7)
				set ep14_1_bs2,10;
			close;
		case 2212: // 西奥多: grassy-green hair, dark skin, snow-white clothing, round wings
			mes "唔......那一定是西奥多.";
			next;
			mes "[看上去很疲倦的仙子]";
			mes "西奥多应该在东北部地区的村庄附近.";
			mes "如果他丢了自己的袋子应该很着急, 去找他看看吧.";
			if (ep14_1_bs2 == 8)
				set ep14_1_bs2,11;
			close;
		case 9264: // Pauchon: sea-blue hair, dark skin, grassy-green clothing, characteristic wings
			mes "恩......那应该是帕乔.";
			next;
			mes "[看上去很疲倦的仙子]";
			mes "帕乔应该在村子以北的地区.";
			mes "如果她丢了自己的袋子应该很着急, 去找她看看吧.";
			if (ep14_1_bs2 == 9)
				set ep14_1_bs2,12;
			close;
		default:
			next;
			mes "[看上去很疲倦的仙子]";
			mes "呃...";
			mes "我不记得有这样特征的仙子.";
			mes "你确定没搞错吗?";
			mes "要不要再回忆下.";
			close;
		}
	}
	mes "[看上去很疲倦的仙子]";
	mes "什么?";
	mes "你找到袋子的主人了?";
	close;
}

splendide,119,138,4	script	库斯米#ep14_1_bs	4_F_FAIRYKID5,{
	if (!isequipped(2782)) {
		mes "[库斯米]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解仙子的话. -";
		mes "- 你需要些东西能够翻译这些语言. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[库斯米]";
		mes "你是是谁?";
		next;
		select("拿出小袋子.");
		if (countitem(6390) == 0) {
			mes "[库斯米]";
			mes "你找我有什么事情情?";
			close;
		}
		if (ep14_1_bs2 == 10) {
			mes "[库斯米]";
			mes "啊!!";
			mes "我的袋袋子!!!!!";
			mes "谢谢谢谢你先生!!!!!";
			mes "我找遍了都没找找找到它!";
			next;
			select("询问谣言.");
			mes "[库斯米]";
			mes "这是个很很难回答的问问题!";
			mes "但是你帮我找回了我的袋袋子, 所以我尽尽量回答......";
			next;
			mes "[库斯米]";
			mes "但是你要发发发誓, 不能告告诉任何人!";
			mes "如果你愿意发发发誓, 就就再次和我对话.";
			delitem 6390,1; //Small_Pocket
			set ep14_1_bs,10;
			changequest 11187,11188;
			close;
		} else {
			mes "[库斯米]";
			mes "唔我不知知知道是谁, 但肯定是谁谁不小心掉了自己的袋子.";
			mes "呼? 我的??";
			mes "不便, 我我的就在我身上呢?";
			next;
			mes "[库斯米]";
			mes "这这是一个珍贵的东东东西, 所以我希望你能找到失主.";
			close;
		}
	}
	if (ep14_1_bs2 == 10) {
		if (ep14_1_bs == 10) {
			mes "[库斯米]";
			mes "你不能把这事告告告诉别人, 行行吗~?";
			mes "最近,";
			mes "我我们大陆的供应被切断!";
			mes "或者更确切地说, 供应路线被被封锁, 我我们无法得到我们的补给品?";
			next;
			mes "[库斯米]";
			mes "我们需要找到足够的食物之前, 我们用完储存的货物, 这就是为什么我们一直在翻箱倒柜的灌木丛.";
			next;
			mes "[库斯米]";
			mes "但这座被诅咒的冻结土地有没有好的食物.";
			mes "我们勉强保持它的绿色使用魔法, 但它需要太多的力量使水果保持新鲜.";
			next;
			mes "[库斯米]";
			mes "为了获得能够食用的食物, 我们花费了超过两倍的魔力.";
			mes "虽然不想承认这一点, 但这会很快成为一个严重的问题.";
			next;
			mes "[库斯米]";
			mes "因为我们是在战争中, 我们不能离开战场, 所以我们不能去检查.";
			mes "我很好奇.......";
			next;
			mes "[库斯米]";
			mes "不仅是我, 还有其他的精灵战士们.";
			mes "基于这个情况, 如果你在灌木丛中遇到一个精灵, 请尽量不要跟他说话.";
			mes "说起来有点尴尬!!!";
			next;
			mes "[库斯米]";
			mes "唔, 你可不能告诉任何人, 今天发生了什么事y!";
			mes "除非这个人想帮助我们... 传播这个不会对斯普莱迪德的任何好处.";
			set ep14_1_bs,11;
			completequest 11188;
			setquest 11189;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[库斯米]";
			mes "呃?";
			mes "你还想问什么?";
			next;
			select("来自大陆的供应路线?");
			mes "[库斯米]";
			mes "好吧, 如果你想听那你可得帮我们!";
			mes "还想听吗?!";
			next;
			switch(select("- 是.:- 否.")) {
			case 1:
				mes "[库斯米]";
				mes "这并不是特殊的路或任何东西g.";
				mes "只是一个老路.";
				mes "有人说, 它连接不同的大洲. 通过背面它还连接斯普兰迪德大本营和阿尔弗海姆.";
				next;
				mes "[库斯米]";
				mes "如果你顺路的话. 请去看看, 那里的情况是不是正常, 好吗.";
				set ep14_1_bs,12;
				changequest 11189,11190;
				close;
			case 2:
				mes "[库斯米]";
				mes "谢谢你找到我了的袋子.";
				mes "我想给你一些仙尘, 但我已经没有剩余的了.";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[库斯米]";
			mes "这并不是特殊的路或任何东西.";
			mes "只是一个老路.";
			mes "有人说, 它连接不同的大洲. 通过背面它还连接斯普兰迪德大本营和阿尔弗海姆.";
			next;
			mes "[库斯米]";
			mes "如果你顺路的话. 请去看看, 那里的情况是不是正常, 好吗.";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[库斯米]";
			mes "一处裂缝?";
			mes "这就是为什么我们无法连络大陆.";
			mes "呃.......";
			mes "知道发生了什么情况就好办了.";
			next;
			mes "[库斯米]";
			mes "如果你碰巧要经过彩虹桥, 请弄清楚是怎么回事.";
			mes "在彩虹桥的中间有个小村庄, 名叫'莫拉.' 来自大陆上所有的物资都通过那个村庄.";
			next;
			mes "[库斯米]";
			mes "如果你去莫拉村的仓库, 管理员会告诉你更多情报.";
			mes "还有, 回来的时候可以顺便帮我看看我的朋友朗多是不是在莫拉村呢?";
			next;
			mes "[库斯米]";
			mes "他常去斯普莱迪德. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
			set ep14_1_bs,14;
			changequest 11191,11192;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[库斯米]";
			mes "如果你碰巧要经过彩虹桥, 请弄清楚是怎么回事.";
			mes "在彩虹桥的中间有个小村庄, 名叫'莫拉.' 来自大陆上所有的物资都通过那个村庄.";
			next;
			mes "[库斯米]";
			mes "如果你去莫拉村的仓库, 管理员会告诉你更多情报.";
			if (checkquest(11193) > -1 && checkquest(11193) < 2)
				close;
			mes "还有, 回来的时候可以顺便帮我看看我的朋友朗多是不是在莫拉村呢?";
			next;
			mes "[库斯米]";
			mes "他常去斯普莱迪德. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11193) == -1) {
				mes "[库斯米]";
				mes "我的朋友朗多是不是在莫拉村呢?";
				next;
				mes "[库斯米]";
				mes "他常去斯普莱迪德. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
				close;
			}
			mes "[库斯米]";
			mes "他他!";
			mes "你真的已经穿越过了迷雾森林的迷宫了?";
			mes "哇哦!!!";
			mes "这令人难以忘记.";
			next;
			mes "[库斯米]";
			mes "太谢谢你了.";
			mes "我希望我们能够再次穿越彩虹桥.";
			mes "我要见下朗多再告诉他下.";
			if (ep14_1_bs == 17) {
				next;
				mes "[库斯米]";
				mes "噢, 达菲尔在斯普莱迪德西北.";
			}
			if (checkquest(11193) < 2) {
				completequest 11192;
				completequest 11193;
			}
			close;
		}
	}
	mes "[库斯米]";
	mes "这个地方总是冷.";
	mes "所以我在天堂的家乡不同.";
	close;
}

splendide,304,295,4	script	西奥多#ep14_1_bs	4_M_FAIRYKID4,{
	if (!isequipped(2782)) {
		mes "[西奥多]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解仙子的话. -";
		mes "- 你需要些东西能够翻译这些语言. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[西奥多]";
		mes "你是是谁?";
		next;
		select("拿出小袋子.");
		if (countitem(6390) == 0) {
			mes "[西奥多]";
			mes "嗯? 这是什么意思?";
			close;
		}
		if (ep14_1_bs2 == 11) {
			mes "[西奥多]";
			mes "啊!!";
			mes "我的袋子!!!!!";
			mes "我找遍了都没找找找到它.";
			mes "谢谢!";
			next;
			select("询问谣言.");
			mes "[西奥多]";
			mes "唔!!";
			mes "这是个很很难回答的问问题!";
			next;
			mes "[西奥多]";
			mes "如果你想知道答案, 就再次和我对话.";
			mes "我需要好好整理下思路.";
			delitem 6390,1; //Small_Pocket
			set ep14_1_bs,10;
			changequest 11187,11194;
			close;
		} else {
			mes "[西奥多]";
			mes "这脏兮兮的袋子!";
			mes "很明显不是我的.";
			next;
			mes "[西奥多]";
			mes "不过我希望你能找到失主.";
			close;
		}
	}
	if (ep14_1_bs2 == 11) {
		if (ep14_1_bs == 10) {
			mes "[西奥多]";
			mes "我告诉你的事情, 你绝对不能告诉其他人.";
			next;
			mes "[西奥多]";
			mes "最近斯普莱迪德碰到一个很麻烦的问题.";
			mes "我们无法和大陆正常联系了.";
			mes "不只是沟通连供应也被切断. 人们表面上无动于衷, 但实际上已经处于极度恐慌.";
			next;
			mes "[西奥多]";
			mes "这片冰冻的土地很难搜集食物, 如果耕种的话, 将耗费无数的人力物力.";
			next;
			mes "[西奥多]";
			mes "事实上, 目前就算维持植物生长就要耗费令人难以置信的力量.";
			mes "高层还没有下达任何指示, 但是传闻这不是一个容易解决的问题.";
			next;
			mes "[西奥多]";
			mes "And because there is no easy fix, everybody is worried sick.";
			mes "By military law, our soldiers cannot leave the battlefield during war, so it's impossible to get more information.";
			next;
			mes "[西奥多]";
			mes "Therefore, if you happen to run into a Laphine, please don't mention any of this.";
			mes "Everybody is trying as hard as they can, but we are still a proud race.";
			next;
			mes "[西奥多]";
			mes "And as I said before, what I told you is a secret and you must not tell anyone.";
			mes "We do need help, but we are cornered and we don't want others to know.";
			set ep14_1_bs,11;
			completequest 11194;
			setquest 11195;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[西奥多]";
			mes "You have further business with me?";
			next;
			select("Supply route from the mainland?");
			mes "[西奥多]";
			mes "Hmm... if you hear that, you might just have to help us out?";
			mes "Do you still want to know?";
			next;
			switch(select("Yes.:No.")) {
			case 1:
				mes "[西奥多]";
				mes "The supply route comes through Bifrost, and you can get to it from the back of the Splendide Basecamp.";
				mes "That is why we set up the basecamp here.";
				mes "The origin of the route is unclear, but it has been known for a long time to be a bridge that connects continents.";
				next;
				mes "[西奥多]";
				mes "If you happen to venture there, please ask a guard what things are like there.";
				set ep14_1_bs,12;
				changequest 11195,11196;
				close;
			case 2:
				mes "[西奥多]";
				mes "Thank you for getting the pouch back to me.";
				mes "Fairy dust? I don't carry around such a thing.";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[西奥多]";
			mes "The supply route comes through Bifrost, and you can get to it from the back of the Splendide Basecamp.";
			mes "That is why we set up the basecamp here.";
			mes "The origin of the route is unclear, but it has been known for a long time to be a bridge that connects continents.";
			next;
			mes "[西奥多]";
			mes "If you happen to venture there, please ask a guard what things are like there.";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[西奥多]";
			mes "A crevice?";
			mes "So that was why we couldn't reach the mainland.";
			mes "It would be good to know what's going on up there.";
			next;
			mes "[西奥多]";
			mes "Hmm...";
			mes "I can't leave here, but you would be able to, no?";
			mes "The supplies from the mainland come through 'Mora' Village, which is located in the middle of Bifrost.";
			next;
			mes "[西奥多]";
			mes "If you speak to the 仓库管理员 of Mora Village, you'd be able to get more information.";
			mes "If you're willing, will you go to Bifrost's 'Mora' Village and meet the 仓库管理员?";
			next;
			mes "[西奥多]";
			mes "And if it's not too much trouble, you could drop by my friend Lilitia's also...";
			set ep14_1_bs,14;
			changequest 11197,11198;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[西奥多]";
			mes "If you speak to the 仓库管理员 of Mora Village, you'd be able to get more information.";
			mes "If you're willing, will you go to Bifrost's 'Mora' Village and meet the 仓库管理员?";
			if (checkquest(11199) > -1 && checkquest(11199) < 2)
				close;
			next;
			mes "[西奥多]";
			mes "And if it's not too much trouble, you could drop by my friend Lilitia's also...";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11199) == -1) {
				mes "[西奥多]";
				mes "And if it's not too much trouble, you could drop by my friend Lilitia's also...";
				close;
			}
			mes "[西奥多]";
			mes "Wow!!!";
			mes "So you went through the Maze of the Hazy Forest and returned from Mora Village.";
			mes "I made the right decision by asking you!";
			next;
			mes "[西奥多]";
			mes "Thank you.";
			mes "I hope this gets resolved soon...";
			mes "I don't want to further upset Lilitia...";
			if (ep14_1_bs == 17) {
				next;
				mes "[西奥多]";
				mes "Oh, And 达菲尔 is in northwest Splendide.";
			}
			if (checkquest(11199) < 2) {
				completequest 11198;
				completequest 11199;
			}
			close;
		}
	}
	mes "[西奥多]";
	mes "Sometimes, I sense a painful beauty in this frozen earth, quite different from the beauty of my hometown.";
	mes "But this is a difficult environment for us to live in, certainly.";
	close;
}

splendide,168,301,4	script	帕丘#ep14_1_bs	4_F_FAIRYKID4,{
	if (!isequipped(2782)) {
		mes "[帕丘]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解仙子的话. -";
		mes "- 你需要些东西能够翻译这些语言. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[帕丘]";
		mes "我能为你做什么, 先生?";
		next;
		select("拿出小袋子.");
		if (countitem(6390) == 0) {
			mes "[帕丘]";
			mes "嗯? 你看到什么东西吗?";
			mes "我什么都没看到...";
			close;
		}
		if (ep14_1_bs2 == 12) {
			mes "[帕丘]";
			mes "Good heavens...!";
			mes "I think this is mine!";
			mes "Thank you.";
			mes "I've been worried since I lost it, you lifted a burden off of my mind.";
			next;
			select("询问谣言.");
			mes "[帕丘]";
			mes "That's not easy for me to answer...";
			mes "I do appreciate you finding my pouch.... Hmm...";
			mes "Please give me some time to think..";
			delitem 6390,1; //Small_Pocket
			set ep14_1_bs,10;
			changequest 11187,11200;
			close;
		} else {
			mes "[帕丘]";
			mes "Oh dear. It's not mine.";
			mes "But to carelessly drop such an important object!";
			mes "I don't know who it is, but that Laphine needs a lesson!";
			close;
		}
	}
	if (ep14_1_bs2 == 12) {
		if (ep14_1_bs == 10) {
			mes "[帕丘]";
			mes "What I'm about to tell you is top secret!";
			mes "We don't even talk about it amongst ourselves!";
			mes "How would we say that the supply from the mainland's been cut off like that!";
			next;
			mes "[帕丘]";
			mes "Ugh?!";
			mes "Oh boy... I've done it....";
			mes "It's really a top secret!!";
			mes "Don't tell anybody!";
			next;
			mes "[帕丘]";
			mes "Well since I spilled the beans already... oh well, too late.";
			mes "So it's been a while since we received supplies from the mainland.";
			next;
			mes "[帕丘]";
			mes "We're not starving, but we're receiving less and less food.";
			mes "I was hungry so I went to go pick fruit, but in this cold climate there are no fruit trees.";
			next;
			mes "[帕丘]";
			mes "And the people higher up only tell us to wait... I'm so tired of waiting!";
			mes "But the instant I leave this place, I'll end up going to prison....";
			next;
			mes "[帕丘]";
			mes "So I'm stuck here, and I'll be stuck here, suffering from hunger.... *sob*";
			next;
			mes "[帕丘]";
			mes "I'd eat the bark off of that tree if I could.";
			mes "If only somebody could help. *sob*";
			set ep14_1_bs,11;
			completequest 11200;
			setquest 11201;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[帕丘]";
			mes "What?";
			mes "What do you want... I'm hungry, don't have energy to talk...";
			next;
			select("Supply route from the mainland?");
			mes "[帕丘]";
			mes "Are you going to help me if I tell you?";
			mes "If not, I won't tell.";
			next;
			switch(select("Yes.:No.")) {
			case 1:
				mes "[帕丘]";
				mes "A giant road leads away from the back of Splendide.";
				mes "I don't know if it's related to legends and what not, but I've heard that the road's been there forever.";
				next;
				mes "[帕丘]";
				mes "Oh! The guard there might know something.";
				mes "If you're headed that way, please go find out what's up.";
				set ep14_1_bs,12;
				changequest 11201,11202;
				close;
			case 2:
				mes "[帕丘]";
				mes "Thank you for finding the pouch.";
				mes "Ugh... I'm starving... I suppose I'll have to eat these bitter berries...";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[帕丘]";
			mes "A giant road leads away from the back of Splendide.";
			mes "I don't know if it's related to legends and what not, but I've heard that the road's been there forever.";
			next;
			mes "[帕丘]";
			mes "Oh! The guard there might know something.";
			mes "If you're headed that way, please go find out what's up.";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[帕丘]";
			mes "Crevice?!?";
			mes "Hmm I have heard that crevices are creeping up here and there, but it even infiltrated Bifrost....";
			mes "It appears to be more serious than I had imagined.";
			next;
			mes "[帕丘]";
			mes "If you can, would you go to 'Mora' Village in Bifrost and figure out what's going on?";
			next;
			mes "[帕丘]";
			mes "The supplies from the mainland come through the Village. If you go speak to the 仓库管理员, he'll be able to tell you something.";
			mes "Also, please pay a visit to my friend Humming.";
			next;
			mes "[帕丘]";
			mes "He's such a flighty guy, might have already left, but we were supposed to meet up in Mora Village.";
			set ep14_1_bs,14;
			changequest 11203,11204;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[帕丘]";
			mes "If you can, would you go to 'Mora' Village in Bifrost and figure out what's going on?";
			next;
			mes "[帕丘]";
			mes "The supplies from the mainland come through the Village. If you go speak to the 仓库管理员, he'll be able to tell you something.";
			if (checkquest(11205) > -1 && checkquest(11205) < 2)
				close;
			mes "Also, please pay a visit to my friend Humming.";
			next;
			mes "[帕丘]";
			mes "He's such a flighty guy, might have already left, but we were supposed to meet up in Mora Village.";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11205) == -1) {
				mes "[帕丘]";
				mes "Please pay a visit to my friend Humming.";
				mes "He's such a flighty guy, might have already left, but we were supposed to meet up in Mora Village.";
				close;
			}
			mes "[帕丘]";
			mes "I had my doubts...But you really did cross the legendary Maze of the Hazy Forest...";
			mes "I'm very impressed.";
			next;
			mes "[帕丘]";
			mes "I really appreciate your help.";
			mes "I hope this gets resolved soon.";
			mes "What I'm really afraid of... is hunger. More than war.";
			if (ep14_1_bs == 17) {
				next;
				mes "[帕丘]";
				mes "Oh, And 达菲尔 is in northwest Splendide.";
			}
			if (checkquest(11205) < 2) {
				completequest 11204;
				completequest 11205;
			}
			close;
		}
	}
	mes "[帕丘]";
	mes "Ah... I'm hungry.";
	mes "When I get back to the mainland I'm going to stuff my belly until it bursts.";
	close;
}

splendide,262,376,4	script	精灵战士#ep14_1	447,{
	if (!isequipped(2782)) {
		mes "[精灵战士]";
		mes "DielFarmar Di RiniIyazser Ha mahAgolAsh U  U ";
		mes "TurNohnar Di DurNeiFar Ra AnuVerNoth Ha AshRivehDor Ha BurWehLars Ur RinimanMod";
		next;
		mes "- 你无法理解仙子的话. -";
		mes "- 你需要些东西能够翻译这些语言. -";
		close;
	}
	mes "[精灵战士]";
	mes "This is Bifrost, which leads to Alfheim.";
	mes "Please note that entry is forbidden due to a crevice caused by an unidentified source.";
	if (ep14_1_bs != 12)
		close;
	next;
	mes "[精灵战士]";
	mes "The other way leads to the Maze of the Hazy Forest.";
	next;
	mes "[精灵战士]";
	mes "You can get to Alfheim by making it through the Maze of the Hazy Forest. However, nobody has ever come back from the Maze of the Hazy Forest.";
	if (checkquest(11190) > -1 && checkquest(11190) < 2) {
		set ep14_1_bs,13;
		changequest 11190,11191;
	} else if (checkquest(11196) > -1 && checkquest(11196) < 2) {
		set ep14_1_bs,13;
		changequest 11196,11197;
	} else if (checkquest(11202) > -1 && checkquest(11202) < 2) {
		set ep14_1_bs,13;
		changequest 11202,11203;
	}
	close;
}

mora,185,163,2	script	仓库管理员#ep14_1	4_M_RAFLE_GR,{
	if (ep14_1_bs < 15) {
		mes "[仓库管理员]";
		mes "No, sir!";
		mes "You cannot enter at will.";
		mes "This is a warehouse. If you need something, please ask the staff outside.";
		if (ep14_1_bs < 14)
			close;
		next;
		select("Supplies for Laphine?");
		mes "[仓库管理员]";
		mes "Ah!";
		mes "You're from Splendide?";
		mes "Let's see...";
		mes "All the supplies from over there to there are destined for Splendide.";
		next;
		mes "[仓库管理员]";
		mes "We are quite worried too because the crevice in Bifrost has made it impossible to deliver these goods.";
		next;
		mes "[仓库管理员]";
		mes "And the travelers who were heading down are also stuck here. The increasing number of customers is both a blessing and a curse..";
		next;
		mes "[仓库管理员]";
		mes "If you plan to go back to Splendide, pay a visit to Jones at the Inn.";
		mes "He has something that needs to be urgently delivered to the army of Splendide.";
		set ep14_1_bs,15;
		setquest 11206;
		close;
	} else if (ep14_1_bs == 15) {
		mes "[仓库管理员]";
		mes "If you plan to go back to Splendide, pay a visit to Jones at the Inn.";
		mes "He has something that needs to be urgently delivered to the army of Splendide.";
		close;
	} else {
		mes "[仓库管理员]";
		mes "We are quite worried too because the crevice in Bifrost has made it impossible to deliver these goods.";
		next;
		mes "[仓库管理员]";
		mes "And the travelers who were heading down are also stuck here. The increasing number of customers is both a blessing and a curse...";
		close;
	}
	end;
}

mora,35,119,4	script	朗多#ep14_1_bs	4_M_DOGTRAVELER,{
	mes "[朗多]";
	mes "莫拉是个神秘的地方.";
	mes "您可以理解任何语言.";
	next;
	mes "[朗多]";
	mes "当然, 当我们离开这个区域, 我将不能够理解你说的话. 但我会记住我们的对话, 我期待有一天我们能在这里再次见面.";
	if (ep14_1_bs > 13 && ep14_1_bs2 == 10) {
		next;
		mes "[朗多]";
		mes "请告诉库斯米";
		mes "我们可以随时随地见面. 没有什么可以操心的.";
		if (checkquest(11193) == -1)
			setquest 11193;
	}
	close;
}

mora,98,66,4	script	莉莉茜亚#ep14_1_bs	4_F_RAFLE_PK,{
	if (ep14_1_bs > 13 && ep14_1_bs2 == 11) {
		mes "[莉莉茜亚]";
		mes "Boo!!!";
		mes "He broke his promise again!!!";
		next;
		mes "[莉莉茜亚]";
		mes "He said he'd be here this time for sure!!!";
		mes "That place is too cold for me to visit!!!!!";
		mes "My precious leaves will wither there.";
		next;
		mes "[莉莉茜亚]";
		mes "What? 西奥多 sent you?";
		mes "Please tell him that I'm so mad!!";
		if (checkquest(11199) == -1)
			setquest 11199;
		close;
	}
	mes "[莉莉茜亚]";
	mes "I really hate the cold.";
	mes "That's why Mora is a lovely place to live.";
	next;
	mes "[莉莉茜亚]";
	mes "The leaves are always fresh here. And, the stress about languages just disappears.";
	close;
}

mora,139,102,2	script	荷明#ep14_1_bs	4_F_DOGTRAVELER,{
	if (ep14_1_bs > 13 && ep14_1_bs2 == 12) {
		mes "[荷明]";
		mes "Oh!";
		mes "You're here because Pauchon sent you?";
		next;
		mes "[荷明]";
		mes "It must've been hard for you to get here. I'm impressed.";
		mes "The Maze of the Hazy Forest~ It fuels my adventurous spirit!";
		next;
		mes "[荷明]";
		mes "If you reach Splendide before me, please tell Pauchon";
		mes "that I'm going through the Maze of the Hazy Forest.";
		if (checkquest(11205) == -1)
			setquest 11205;
		close;
	}
	mes "[荷明]";
	mes "I heard that a crevice crept in between Jotunheim and Midgard, so I wanted to check it out. But I got stuck here.";
	mes "I was looking forward to seeing a new place.";
	next;
	mes "[荷明]";
	mes "Are you from Midgard?";
	mes "What is it like there?";
	mes "I've always wanted to see a creature called Poring.";
	close;
}

mora,55,124,2	script	尤耐斯#ep14_1_bs	4_M_MERCAT1,{
	if (ep14_1_bs < 15) {
		mes "[尤耐斯]";
		mes "噢.... 该死.......";
		mes "我不能去, 我不能回去. 我的信誉, 我辛辛苦苦的只是摇摇欲坠化为尘土.";
		close;
	} else if (ep14_1_bs == 15) {
		mes "[尤耐斯]";
		mes "啊, 你是从斯普莱迪德那里通过的迷宫森林的旅客?";
		mes "如果您打算回去了, 可以请你帮我交付这个给斯普莱迪德军队吗?";
		next;
		mes "[尤耐斯]";
		mes "有人很需要它, 但是我无法穿过彩虹桥.";
		next;
		mes "[尤耐斯]";
		mes "运送到别的地方也都停止了. 啊, 我的信誉正在遭受....";
		next;
		switch(select("- 是.:- 否.")) {
		case 1:
			mes "[尤耐斯]";
			mes "谢谢.";
			set ep14_1_bs,16;
			changequest 11206,11207;
			close;
		case 2:
			mes "[尤耐斯]";
			mes "我有点不好意思问一个陌生人...... 哈哈!";
			close;
		}
	} else if (ep14_1_bs == 16) {
		if (checkweight(1201,1) == 0) {
			mes "[尤耐斯]";
			mes "你身上的东西太多了, 请处理下再来.";
			close;
		}
		if (MaxWeight - Weight < 3500) {
			mes "[尤耐斯]";
			mes "你的负重不够了, 请处理下再来.";
			close;
		}
		mes "[尤耐斯]";
		mes "请小心保管它.";
		mes "是给达菲尔在斯普莱迪德的.";
		set ep14_1_bs,17;
		getitem 6391,1; //Splendid_Supply_Kit
		changequest 11207,11208;
		close;
	} else if (ep14_1_bs == 17) {
		mes "[尤耐斯]";
		mes "请小心保管它.";
		mes "是给达菲尔在斯普莱迪德的.";
		close;
	} else if (ep14_1_bs > 17) {
		mes "[尤耐斯]";
		mes "谢谢你, 干的很棒.";
		mes "呵呵, 我觉得你拥有做快递员的潜质.";
		mes "对快递送货还有没有兴趣?";
		close;
	} else {
		mes "[尤耐斯]";
		mes "呵呵, 我觉得你拥有做快递员的潜质.";
		mes "对快递送货还有没有兴趣?";
		close;
	}
	end;
}

splendide,121,260,4	script	达菲尔#ep14_1_bs	4_F_FAIRY,{
	if (!isequipped(2782)) {
		mes "[达菲尔]";
		mes "DRHSfhsdfGSDH FGkkmvoifk DFG DFHshfeksmn fgg FDbbd fjnnvk n skncki dfgd F FHdfkdfjkmv";
		close;
	}
	if (countitem(6391)) {
		mes "[达菲尔]";
		mes "噢....";
		mes "我正在等你呢.";
		next;
		mes "[达菲尔]";
		mes "这正是迫切需要的, 谢谢你把它带来, 希望没有因此给你添太多麻烦..";
		next;
		mes "[达菲尔]";
		mes "这是一点小小心意, 希望能表达我们的感谢之意.";
		delitem 6391,1; //Splendid_Supply_Kit
		if (ep14_1_bs == 17) {
			set ep14_1_bs,18;
			completequest 11208;
			getexp 0,500000;
			getitem 6380,5; //Mora_Coin
		} else
			getitem 6380,2; //Mora_Coin
		close;
	}
	if (ep14_1_bs == 17) {
		mes "[达菲尔]";
		mes "噢....";
		mes "你把东西弄丢了.";
		next;
		mes "[达菲尔]";
		mes "我知道这可能是天意......";
		mes "我的想法太不切实际了.";
		mes "不过还是要感谢你. 请接受这点小心意.";
		set ep14_1_bs,18;
		completequest 11208;
		getexp 0,200000;
		getitem 6380,2; //Mora_Coin
		close;
	}
	mes "[达菲尔]";
	mes "对我来说, 给花草浇灌远比在战场挥舞兵器来的重要.";
	close;
}

sec_in02,35,175,0	script	Theore Set Guid	4_F_FAIRYKID,{
	callfunc "F_GM_NPC";
	switch(select("Set0:Set33:Set2_0")) {
	case 1:
		set ep14_1_bs,0;
		end;
	case 2:
		set ep4_1_bs,3;
		setquest 11183;
		end;
	case 3:
		set ep14_1_bs2,0;
		end;
	}
}

// Chesire's New Day :: ep14_1_cheshir2
//============================================================
dic_in01,262,191,0	script	#ep14_1_xq02	HIDDEN_WARP_NPC,0,3,{
	end;
OnTouch:
	if (ep13_3_secret > 22 && checkquest(7206) == -1) {
		enablenpc "柴郡#ep14_1_xq01";
		cutin "ep13_cheshire_h",1;
		mes "[柴郡]";
		mes "噢, 等等!";
		mes "现在有另一件事情需要你去做.";
		mes "我们没时间讨论细节了...";
		next;
		mes "- 柴郡的守卫靠近了你, 并在你的耳边开始窃窃私语.-";
		next;
		mes "[柴郡]";
		mes "你会发现一架猫的大篷车在^4d4dff卡米达尔隧道^000000中间.";
		mes "就在^4d4dff大篷车当中有一个有标记箱子, 里面装有送往斯卡拉巴洞穴西边入口的货物^000000.";
		next;
		mes "[柴郡]";
		mes "我希望你能把它带回来给我.";
		mes "你在找的时候会发现那个箱子的.";
		mes "这是个重要的事项.";
		next;
		mes "[柴郡]";
		mes "我也要做一些准备工作...";
		mes "祝你好运!";
		setquest 7206;
		close2;
		disablenpc "柴郡#ep14_1_xq01";
		cutin "",255;
	}
	end;
}

dic_in01,260,194,4	script	柴郡#ep14_1_xq01	4_M_CATMAN2,{
	end;
OnInit:
	disablenpc "柴郡#ep14_1_xq01";
	end;
}

dic_dun01,274,114,0	script	商品堆叠箱	CLEAR_NPC,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "- 您携带的物品种类过多, 无法进行该任务. -";
		close;
	}
	set .@playtime, checkquest(7208,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "箱子与各种货物都堆叠在一起, 高的已经快要碰到天花板了.";
		mes "好像没有找到柴郡所说的有标记的箱子.";
		close;
	} else if (.@playtime == 2) {
		mes "箱子与各种货物都堆叠在一起, 高的已经快要碰到天花板了.";
		mes "仔细观察, 你发现了一个箱子上有一个小的标记.";
		mes "你找到了柴郡所说的箱子.";
		next;
		switch(select("- 搬走箱子.:- 放弃.")) {
		case 1:
			mes "你承诺过将补给箱带回去给柴郡, 他还在彩虹桥的裂缝另一头等着你的消息呢.";
			erasequest 7208;
			setquest 7210;
			getitem 6392,1; //Bradium_Box
			close;
		case 2:
			mes "你决定放弃拿走补给箱.";
			mes "并转身离开.";
			erasequest 7208;
			close;
		}
	} else {
		if (checkquest(7207) == -1) {
			if (checkquest(7206) > -1) {
				mes "箱子与各种货物都堆叠在一起, 高的已经快要碰到天花板了.";
				mes "仔细观察, 你发现了一个箱子上有一个小的标记.";
				next;
				mes "标记上刻着一个神秘的小符号, 符号下面写着一行小字, 内容是 ^4d4dff目的地: 彩虹桥裂缝^000000.";
				next;
				mes "这肯定就是柴郡所说的箱子了.";
				mes "你决定把箱子的位置记录在纸上.";
				completequest 7206;
				setquest 7207;
				getitem 6392,1; //Bradium_Box
				close;
			}
		} else if (checkquest(7207) < 2) {
			mes "你已经获得了柴郡所说的箱子.";
			mes "现在你需要做的就是把它带去彩虹桥的裂缝.";
			close;
		}
		mes "箱子与各种货物都堆叠在一起, 高的已经快要碰到天花板了.";
		close;
	}
	end;
}

bif_fild01,335,168,3	script	柴郡#ep14_1_xq04	4_M_CATMAN1,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "- 您携带的物品种类过多, 无法进行该任务. -";
		close;
	}
	cutin "ep13_cheshire",1;
	if (checkquest(7209) > -1) {
		if (countitem(6090) < 20) {
			mes "[柴郡]";
			mes "给我拿20箱精炼魔力之石来.";
			mes "In exchange for the box, which you carelessly and irresponsibly sold to somebody.";
			mes "我讲的够清楚了吗!";
			close2;
			cutin "",255;
			end;
		}
		mes "[柴郡]";
		mes "So you've brought it?";
		mes "The amount is less than it was, but I guess I can't help it.";
		mes "Next time, you must bring the box to me intact.";
		next;
		mes "- Cheshire threw the Bradium into the Crevice. -";
		next;
		mes "[柴郡]";
		mes "You made a mistake of losing the box, you have to be content with this.";
		mes "And starting tomorrow, get the box here intact.";
		mes "Every day.";
		delitem 6090,20; //Purified_Bradium
		erasequest 7209;
		setquest 7208;
		getitem 6304,1; //Sapa_Feat_Cert
		close2;
		cutin "",255;
		end;
	}
	callsub L_CheckPlaytime;
	if (checkquest(7210) > -1) {
		if (countitem(6392) == 0)
			callsub L_LostQuest,7210;
		else {
			mes "[柴郡]";
			mes "You've come at just the right time.";
			mes "And I see the box is intact!";
			mes "Well done.";
			next;
			mes "[柴郡]";
			mes "Well, I'll be counting on you, tomorrow as well.";
			mes "Get it?";
			mes "Now, leave this place before the Laphines grow suspicious.";
			erasequest 7210;
			setquest 7208;
			delitem 6392,1; //Bradium_Box
			getitem 6304,1; //Sapa_Feat_Cert
			getexp 50000,40000;
			close2;
			cutin "",255;
			end;
		}
	}
	if (ep13_3_secret > 22) {
		if (checkquest(7207) == -1) {
			if (checkquest(7206) == -1) {
				mes "[柴郡]";
				mes "...Hmm? Huh?";
				mes "It's "+strcharinfo(0)+"!";
				mes "What are you doing here?";
				next;
				select("Huh? Cheshire?");
				mes "[柴郡]";
				mes "What makes you so surprised?";
				mes "Does it surprise you to see me here?";
				next;
				select("Nothing, it's just the hood...");
				mes "[柴郡]";
				mes "Oh... This. Because it's bothersome.";
				mes "And here, I don't have to mind others.";
				mes "Oh, and well met!";
				mes "I was going to put you to work when you came to Diel.";
				next;
				mes "[柴郡]";
				mes ".......What? Why are you staring at me like that?";
				mes "his is all for Ahat's good.";
				next;
				switch(select("I guess I have no choice.:I have a lot of things to do!")) {
				case 1:
					mes "["+strcharinfo(0)+"]";
					mes "(He will be suspicious if I refuse to do it... I guess I should play along for now.)";
					mes "Okay.";
					mes "I'll do anything for Ahat's pleasure.";
					mes "So, what do you need me for?";
					next;
					break;
				case 2:
					mes "[柴郡]";
					mes "Things to do?";
					mes "What things?";
					mes "This is one of the things you must do.";
					mes "Don't forget you're are loyal to Ahat.";
					next;
					break;
				}
				mes "[柴郡]";
				mes "Great! Now I will tell you what to do.";
				mes "You know there is an entrance to Scaraba Hole in the middle of Kamidal Tunnel?";
				mes "You will find cat caravans around there who sell supplies and some simple tools.";
				next;
				mes "[柴郡]";
				mes "There is a marked box among the goods stacked there.";
				mes "I'd like you to bring the box to me.";
				next;
				mes "[柴郡]";
				mes "It's a simple job of picking up and delivering a box.";
				mes "Do it ^4d4dff quickly and quietly, without being noticed^000000.";
				setquest 7206;
				next;
				mes "[柴郡]";
				mes "Now, move!";
				close2;
				cutin "",255;
				end;
			} else {
				mes "[柴郡]";
				mes "Bring the box from Kamidal Tunnel.";
				mes "Quickly and quietly!";
				mes "No, get a move on!";
				close2;
				cutin "",255;
				end;
			}
		} else if (checkquest(7207) < 2) {
			if (countitem(6392) == 0)
				callsub L_LostQuest,7207;
			else {
				mes "[柴郡]";
				mes "........That box!";
				mes "Oh, yes. It's the right one!";
				mes "You've done a good job.";
				mes "This is very important.";
				mes "Ahat will be pleased.";
				next;
				mes "[柴郡]";
				mes "The boxes will be at the same place every day.";
				mes "I'll leave the job to you.";
				next;
				select("Why don't you do it yourself?");
				mes "[柴郡]";
				mes "........ Hmm...";
				mes "It's only you humans that have free access to any place.";
				mes "Plus, this place is Laphine territory.";
				next;
				mes "[柴郡]";
				mes "I don't attract their attention much, looking like this,";
				mes "but what would Saphas think?";
				mes "To see Ahat's man in a Laphine territory?";
				next;
				mes "[柴郡]";
				mes "They will grow suspicious.";
				mes "But you humans are free from such troubles, so that's why you're the right one for the job.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "(... I don't buy his story, but he believes I'm on his side, so I guess I should play along.)";
				mes "What happens to this Bradium, then?";
				next;
				mes "[柴郡]";
				mes "That thing?";
				mes "Hand it to me.";
				next;
				mes "- Cheshire opened the box, checked the Bradium in it, threw them into the Crevice,";
				mes "and looked back, dusting his hands off, and with a triumphant look on his face. -";
				next;
				mes "[柴郡]";
				mes "This is what happens.";
				mes "*laugh* Beyond the Crevice lies a path unknown to you.";
				next;
				mes "[柴郡]";
				mes "Well, I'll leave the matter to you.";
				mes "Try to bring the box to me every day.";
				mes "Okay?";
				delitem 6392,1; //Bradium_Box
				completequest 7207;
				setquest 7208;
				getitem 6304,1; //Sapa_Feat_Cert
				getexp 50000,40000;
				next;
				mes "[柴郡]";
				mes "In compensation for your efforts, I'll give you an Exploit Certification of Sapha and a little cash.";
				mes "Now, leave this place before the Laphines grow suspicious.";
				close2;
				cutin "",255;
				end;
			}
		} else {
			callsub L_CheckPlaytime;
			mes "[柴郡]";
			mes "Huh? What's up?";
			mes "You haven't brought the box today?";
			next;
			mes "[柴郡]";
			mes "Hmm, this is unexpected...";
			mes "Well, I have no choice then.";
			mes "I'll have another guy do it today.";
			mes "But you must do it starting tomorrow, okay?";
			setquest 7208;
			close2;
			cutin "",255;
			end;
		}
	} else if (ep13_3_secret > 15) {
		mes "[柴郡]";
		mes "... Huh? I think I've seen you somewhere...";
		mes "..........Oh!";
		mes strcharinfo(0)+"...?!";
		mes "What brings you here?";
		next;
		mes "[柴郡]";
		mes "You say you've forgotten what to do?";
		mes "You're not supposed to be here.";
		mes "You're supposed to be at the crevice to the south of Dicastes.";
		next;
		mes "[柴郡]";
		mes "Whoa.";
		mes "What was Ahat thinking when he sent such an idiot to me?";
		mes "Now, get a move on and do your job.";
		close2;
		cutin "",255;
		end;
	}
	mes "[柴郡]";
	mes "...Why isn't this fellow showing up?";
	mes "Should be here by now...";
	mes "Lost the way back perhaps...?";
	mes "....? Eh? Who, who are you? How long have you been standing here?";
	next;
	select("A cat?!");
	mes "[柴郡]";
	mes "Who... who's a cat?!";
	mes "Get lost!";
	close2;
	cutin "",255;
	end;
L_LostQuest:
	mes "[柴郡]";
	mes "Oh, have you been there?";
	mes "What happened to the box?";
	mes "Why are you empty-handed?";
	next;
	switch(select("I'll look for it again!:I lost it...")) {
	case 1:
		mes "[柴郡]";
		mes "Make sure you do a good job!";
		mes "And keep looking for it.";
		mes "You must not lose it.";
		break;
	case 2:
		mes "[柴郡]";
		mes "Where?";
		mes "Which merchant did you sell it to?";
		mes "Can't you distinguish between what to sell and what not to sell?";
		mes "Were you asleep when you made the deal?";
		next;
		mes "[柴郡]";
		mes "This is utterly ridiculous.";
		mes "Make up for what you lost!";
		mes "^4d4dff20 pieces of refined Bradium^000000!!!";
		erasequest getarg(0);
		setquest 7209;
		break;
	}
	close2;
	cutin "",255;
	end;
L_CheckPlaytime:
	set .@playtime, checkquest(7208,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[柴郡]";
		mes "Each day, one of these boxes is sent to Kamidal Tunnel.";
		mes "It's smuggled in among other items.";
		next;
		mes "[柴郡]";
		mes "Sneak into the place on time, and bring the box to me. The boxes will be at the same place every day.";
		mes "You'll be doing it every day.";
		close2;
		cutin "",255;
		end;
	} else if (.@playtime == 2) {
		mes "[柴郡]";
		mes "It's about time.";
		mes "Now go get the box.";
		mes "It should be lying near the entrance to Scaraba Hole in the Kamidal Tunnel.";
		mes "You've done this before, so you must be familiar with it?";
		close2;
		cutin "",255;
		end;
	} else
		return;
}

dicastes02,125,192,0	script	#call_cheshir_ep14	HIDDEN_WARP_NPC,0,3,{
	end;
OnTouch:
	if (ep13_3_secret > 22) {
		if (rand(2)) {
			emotion e_ho,1;
			mes "..........?";
			mes "You sense someone moving around.";
			mes "There must be someone down there.";
			if ($@cheshire_on == 0) {
				donpcevent "柴郡#ep14_extra::OnEnable";
				set $@cheshire_on,1;
			}
			close;
		}
	}
	end;
}

dicastes02,103,190,3	script	柴郡#ep14_extra	4_M_CATMAN1,{
	if (ep13_3_secret > 22) {
		cutin "ep13_cheshire",1;
		mes "[柴郡]";
		mes "...Eh?";
		mes "What a surprise. What are you doing here?";
		next;
		switch(select("And what are YOU doing here?:Those ears...?")) {
		case 1:
			mes "[柴郡]";
			mes "Out for a walk?";
			mes "I came out with Ahat, but he went back in to take care of an urgent matter.";
			next;
			mes "[柴郡]";
			mes ".. ..............";
			next;
			select("....:Wha... What a pretty tree.");
			mes "[柴郡]";
			mes "This tree... it's white, transparent, and shiny.";
			mes "It's a Sapha's body.";
			next;
			mes "[柴郡]";
			mes "You know Saphas slowly turn to stone throughout their lives.";
			mes "So when they die, they turn to stony trees.";
			mes "This forest is... their cemetery, so to speak.";
			next;
			mes "[柴郡]";
			mes "....... Look closely, and you can make out his arms and legs.";
			mes "Interesting, isn't it?";
			next;
			mes "[柴郡]";
			mes "... .. ...";
			next;
			mes "[柴郡]";
			mes "Oh, this is so annoying.";
			mes "I'm off!";
			next;
			mes "- Cheshire stormed off... -";
			break;
		case 2:
			mes "[柴郡]";
			mes "What? The ears?";
			mes "Well, it's no wonder because I'm a beastman.";
			mes "... Why... Why are you staring me like that?";
			next;
			select("Are you responsible for the report?!");
			mes "[柴郡]";
			mes "What are you talking about?";
			mes "I don't know such a thing!";
			next;
			mes "- Cheshire ran away... -";
			break;
		}
		disablenpc "柴郡#ep14_extra";
		stopnpctimer;
		close2;
		cutin "",255;
		end;
	}
	mes "A boy dressed in unusual clothing is standing, with a fierce look in his eyes.";
	mes "You guess you'd better leave him alone.";
	close;
OnInit:
	disablenpc "柴郡#ep14_extra";
	end;
OnEnable:
	enablenpc "柴郡#ep14_extra";
	initnpctimer;
	end;
OnDisable:
	disablenpc "柴郡#ep14_extra";
	stopnpctimer;
	end;
OnTimer600000:
	disablenpc "柴郡#ep14_extra";
	set $@cheshire_on,0;
	stopnpctimer;
	end;
}

// Helping Lope and Euridi :: ep14_1_rofe
//============================================================
mora,117,66,3	script	优莉蒂#pa	521,{
	if (BaseLevel < 100) {
		mes "[优莉蒂]";
		mes "You are very delicate.";
		mes "It's true that I need help,";
		mes "but I don't think you can help.";
		close;
	}
	if (ep14_1_rope == 0) {
		mes "[优莉蒂]";
		mes "I hear you passed through the Hazy Forest.";
		mes "Did you...";
		mes "Did you happen to see";
		mes "Lope, my fiance, there?";
		next;
		switch(select("Yes, I did.:No, I didn't.")) {
		case 1:
			mes "[优莉蒂]";
			mes "Are you sure? Where did you see him?";
			mes "Take me there, quick!";
			mes "...";
			next;
			mes "[优莉蒂]";
			mes "What?";
			mes "You're kidding...?";
			mes "How could you?";
			close;
		case 2:
			mes "[优莉蒂]";
			mes "Please find my Lope.";
			mes "I came here to the Village of Mora";
			mes "after asking all around,";
			mes "but there is nothing more I can do.";
			next;
			mes "[优莉蒂]";
			mes "My heart aches at the thought of Lope...";
			mes "He will be desperately looking for me...";
			next;
			switch(select("Sorry, I'm busy!:I'll help you!")) {
			case 1:
				mes "[优莉蒂]";
				mes "How heartless!";
				close;
			case 2:
				mes "[优莉蒂]";
				mes "I heard that he had gone into the Hazy Forest,";
				mes "while guiding tourists around the village.";
				mes "One of the tourists who went with Lope";
				mes "must still be at the inn.";
				next;
				mes "[优莉蒂]";
				mes "He wouldn't see me and locked himself in the room.";
				mes "But he might be willing to see you, because you've been to the Hazy Forest.";
				setquest 1109;
				set ep14_1_rope,1;
				close;
			}
		}
	} else if (ep14_1_rope == 1) {
		mes "[优莉蒂]";
		mes "The tourist is at the inn,";
		mes "not in front of me!";
		close;
	} else if (ep14_1_rope == 2) {
		mes "[优莉蒂]";
		mes "So you've seen Pitt!";
		mes "I knew he would be willing to see you.";
		mes "What did he say?";
		next;
		mes "[优莉蒂]";
		mes "...No way....!";
		mes "That is utter nonsense.";
		mes "To blame Lope for it!";
		mes "I found this piece of paper";
		mes "near the Hazy Forest.";
		mes "I'm sure it's Lope's.";
		next;
		mes "[优莉蒂]";
		mes "If you find the rest of ^0000FFLope's Clues^000000,";
		mes "you'll be able to find out";
		mes "where he is.";
		mes "I'm counting on you, "+strcharinfo(0)+".";
		changequest 1110,1111;
		set ep14_1_rope,3;
		close;
	} else if (ep14_1_rope == 3) {
		mes "[优莉蒂]";
		mes "If you come across a ^0000FFLope's Clue^000000, please show it to Pitt.";
		mes "I hope he will tell the truth soon.";
		close;
	} else if (ep14_1_rope == 4) {
		mes "[优莉蒂]";
		mes "I don't understand it.";
		mes "I'm now suspicious of his motives.";
		mes "Why is he trying so hard to accuse Lope?";
		mes "Wait... those clues...";
		next;
		mes "[优莉蒂]";
		mes "Those seem to be more than simple notes.";
		mes "Can I have a look at them?";
		mes "...";
		mes "These fit together like a puzzle.";
		mes "... Oh!... This is...";
		next;
		mes "[Lope's Letter]";
		mes "...We've been wandering around the Forest for days.";
		mes "...So we're not protecting the tourists,";
		mes "I got sick from deadly poison, and became a burden to everyone.";
		mes "How pathetic...";
		next;
		mes "[Lope's Letter]";
		mes "No wonder I was kicked out of";
		mes "the Splendide Expedition.";
		mes "...But I managed to protect at least one tourist.";
		mes "He will deliver this letter and the ring to you.";
		next;
		mes "[Lope's Letter]";
		mes "...I wanted to propose to you";
		mes "as a proud member of the Expedition.";
		mes "I'm sorry, Euridi.";
		mes "See you soon.";
		next;
		mes "Having read the letter,";
		mes "Euridi is standing staring blankly like someone who wasn't all there.";
		mes "Let's go show the letter to Pitt.";
		changequest 1112,1113;

		//delitem 6383,30; //Clue_Of_Lope
		set .@count, countitem(6383);
		if (.@count) delitem 6383,((.@count > 30)?30:.@count); //Clue_Of_Lope

		set ep14_1_rope,5;
		close;
	} else if (ep14_1_rope == 5) {
		mes "[优莉蒂]";
		mes "No, Lope must be safe.";
		mes "He will come back no matter what...";
		close;
	} else if (ep14_1_rope == 6) {
		mes "[优莉蒂]";
		mes "......";
		next;
		mes "You hear a song coming from the girl who is hanging her head low.";
		mes "Her friend seems to have something to say.";
		close;
	} else if (ep14_1_rope == 7 || ep14_1_rope == 8) {
		mes "You hear a quiet singing voice.";
		mes "You can't make the words out.";
		close;
	} else if (ep14_1_rope == 9) {
		mes "[优莉蒂]";
		mes "Have you found Lope?";
		mes "Is he safe?";
		next;
		switch(select("Tell her you can't possibly find him.:Tell her he is dead.")) {
		case 1:
			mes "[优莉蒂]";
			mes "I'll go look for him myself.";
			mes "Hopefully... it's not too late, yet.";
			mes "Let me go, there's no time to lose!";
			close;
		case 2:
			mes "[优莉蒂]";
			mes "I don't believe it.";
			mes "He told me he would come back soon...";
			mes "He told me to hang on.";
			mes "It can't be... It just can't be...";
			next;
			mes "You hand her Lope's Ring, which Pitt gave you.";
			mes "With the ring in her hand, Euridi bursts into tears.";
			mes "She starts to sing in a strained voice, still crying.";
			changequest 1116,1117;
			set ep14_1_rope,10;

			//delitem 6384,1; //Ring_Of_Lope
			if (countitem(6384)) delitem 6384,1; //Ring_Of_Lope

			close;
		}
	} else if (ep14_1_rope > 9) {
		mes "You stand frozen.";
		mes "You hear a quiet singing voice.";
		close;
	}
}

mora,115,68,3	script	优莉蒂的朋友#pa	4_F_MORAFINE1,{
	if (ep14_1_rope < 2) {
		mes "[优莉蒂的朋友]";
		mes "Please stop Euridi.";
		mes "She is desperate to find her missing fiance.";
		close;
	} else if (ep14_1_rope == 2) {
		mes "[优莉蒂的朋友]";
		mes "Pitt is definitely suspicious.";
		mes "I think he is avoiding Euridi...";
		mes "He must be hiding something.";
		close;
	} else if (ep14_1_rope == 3) {
		mes "[优莉蒂的朋友]";
		mes "To tell the truth, I don't think";
		mes "that Lope is alive.";
		mes "I'm just worried about Euridi.";
		next;
		mes "[Euridi]";
		mes "Aaarrrggghhh!!!!!!!!";
		next;
		mes "[优莉蒂的朋友]";
		mes "...";
		mes "To tell the truth, I really believe";
		mes "that Lope is alive.";
		mes "...";
		mes "*sigh*";
		close;
	} else if (ep14_1_rope == 4) {
		mes "[优莉蒂的朋友]";
		mes "How's Pitt doing?";
		mes "I think I should go visit him";
		mes "and make him feel worse!";
		mes "He's so disgusting!";
		close;
	} else if (ep14_1_rope == 5) {
		mes "[优莉蒂的朋友]";
		mes "Go to Pitt, quick.";
		close;
	} else if (ep14_1_rope == 6) {
		mes "[优莉蒂的朋友]";
		mes "Euridi is singing a song of healing";
		mes "to protect her weakened body and mind.";
		mes "At this rate, something's going to happen to her too.";
		next;
		mes "[优莉蒂的朋友]";
		mes "Oh, I remember a traveler telling me";
		mes "that he had seen a suspicious man";
		mes "near the entrance to the Hazy Forest.";
		next;
		mes "[优莉蒂的朋友]";
		mes "The traveler says he looked creepy standing there staring blankly,";
		mes "but he couldn't see clearly";
		mes "because of the thick fog.";
		mes "I think it's worth investigating.";
		changequest 1114,1115;
		set ep14_1_rope,7;
		close;
	} else if (ep14_1_rope == 7) {
		mes "[优莉蒂的朋友]";
		mes "I hear that a suspicious man was seen";
		mes "near the entrance to the Hazy Forest.";
		mes "The traveler says he looked creepy standing there staring blankly,";
		mes "but he couldn't see clearly";
		mes "because of the thick fog.";
		mes "I think it's worth investigating.";
		close;
	} else if (ep14_1_rope == 8 || ep14_1_rope == 9) {
		mes "[优莉蒂的朋友]";
		mes "Your face is dark.";
		mes "Bad news?";
		close;
	} else if (ep14_1_rope == 10) {
		mes "[优莉蒂的朋友]";
		mes "There is a Laphine saying that";
		mes "desperation invites disaster.";
		mes "Maybe we're responsible";
		mes "for what happened.";
		next;
		if (checkweight(6380,1) == 0) {
			mes "[优莉蒂的朋友]";
			mes "You have too many things with you.";
			mes "Can you throw out some of them?";
			close;
		}
		mes "[优莉蒂的朋友]";
		mes "Lope will be able to rest in peace now.";
		mes "Thank you. I won't forget what you've done for me.";
		completequest 1117;
		set ep14_1_rope,11;
		getexp 1000000,2000000;
		getitem 6380,10; //Mora_Coin
		close;
	} else if (ep14_1_rope > 10) {
		mes "[优莉蒂的朋友]";
		mes "Thank you. I won't forget your help.";
		close;
	}
}

mora,65,145,3	script	皮特#pa	4_M_LYINGDOG,{
	if (ep14_1_rope == 0) {
		mes "[皮特]";
		mes "你相当不错,";
		mes "你能够或者穿越迷雾森林.";
		mes "你看我完全搞砸了,";
		mes "所以我受不了, 听你的显赫冒险故事.";
		mes "快走开.";
		close;
	} else if (ep14_1_rope == 1) {
		mes "[皮特]";
		mes "You have a knack for pestering people, don't you?";
		mes "Euridi sent you, eh?";
		mes "The Laphine couple is";
		mes "anxious to kill me.";
		next;
		mes "[皮特]";
		mes "Go and tell her!";
		mes "That the stupid guide";
		mes "pushed us reluctant tourists into the forest,";
		mes "and ran off to save his own skin!";
		next;
		mes "[皮特]";
		mes "So you're sorry that it's me, not him, that's here?";
		mes "He will be alive somewhere,";
		mes "so go and try to find him! Just stop bothering me!";
		changequest 1109,1110;
		set ep14_1_rope,2;
		close;
	} else if (ep14_1_rope == 2) {
		mes "[皮特]";
		mes "This is all because of";
		mes "the stupid guide!";
		mes "I hate Laphines!";
		close;
	} else if (ep14_1_rope == 3) {
		if (countitem(6383) < 30) {
			mes "[皮特]";
			mes "This is all because of";
			mes "the stupid guide!";
			mes "I hate Laphines!";
			close;
		}
		mes "[皮特]";
		mes "That thing you have in your hand...";
		mes "It looks very strange.";
		mes "I've never seen such a thing before.";
		mes "You'd better not keep that.";
		mes "Can I have it?";
		next;
		switch(select("Give it to him.:Don't give it to him.")) {
		case 1:
			mes "[皮特]";
			mes "So I swallow it like this,";
			mes "and voila! Evidence gone!";
			mes "Now I can sleep soundly, thank you!";
			delitem 6383,5; //Clue_Of_Lope
			close;
		case 2:
			mes "[皮特]";
			mes "Why are you showing me such a thing?";
			mes "I don't know anything! I'm the victim here!";
			mes "I'm a victim of the schemes of the Laphine couple.";
			mes "It's unfair...";
			next;
			mes "It's no use trying to talk to him any more.";
			mes "Try talking to Euridi.";
			changequest 1111,1112;
			set ep14_1_rope,4;
			close;
		}
	} else if (ep14_1_rope == 4) {
		mes "[皮特]";
		mes "This is unfair!";
		mes "This is so totally unfair!";
		close;
	} else if (ep14_1_rope == 5) {
		if (checkweight(6384,1) == 0) {
			mes "[皮特]";
			mes "What are you, a professional mover?";
			mes "Stomping about with a ton of stuff on your back!";
			mes "I can't rest because of the noise!";
			mes "Throw away all that stuff!";
			close;
		}
		mes "[皮特]";
		mes "I never imagined you'd find them all";
		mes "and piece them together.";
		mes "Is this a divine punishment...?";
		mes "Or Laphines' curse?";
		mes "Whew...";
		next;
		mes "[皮特]";
		mes "That guide fellow,";
		mes "he opened the gate out";
		mes "when he was hit hard";
		mes "by the poison.";
		next;
		mes "[皮特]";
		mes "When I was hesitating whether to take him with me,";
		mes "he handed me that letter and the ring.";
		mes "Laphines' jewelry...";
		mes "It's rumored that nobody could ever have it except Laphines,";
		mes "including the Gods themselves.";
		next;
		mes "[皮特]";
		mes "So I had in my hands";
		mes "a treasure among treasures!";
		mes "How...! Just how on earth";
		mes "could I have let it pass through!";
		next;
		mes "[皮特]";
		mes "I was going to leave this place";
		mes "as soon as I pulled myself together.";
		mes "But now I'm stuck here,";
		mes "affected by the poison myself.";
		next;
		mes "[皮特]";
		mes "I'll give you the ring back,";
		mes "so please leave me alone!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Then where could Lope...?";
		next;
		mes "[皮特]";
		mes "If he died near the exit of the forest,";
		mes "he must be somewhere around there,";
		mes "in whatever form he might be in.";
		changequest 1113,1114;
		set ep14_1_rope,6;
		getitem 6384,1; //Ring_Of_Lope
		close;
	} else if (ep14_1_rope == 6 || ep14_1_rope == 7) {
		mes "[皮特]";
		mes "I'm a victim, too!";
		mes "So leave me alone! I beg you!";
		close;
	} else if (ep14_1_rope == 8) {
		mes "[皮特]";
		mes "...";
		close;
	} else if (ep14_1_rope > 8) {
		mes "He's sleeping.";
		mes "He seems to be in a very deep sleep.";
		close;
	}
}

bif_fild01,132,338,3	script	洛佩#pa	4_M_FAIRYSOLDIER2,2,2,{
	if (ep14_1_rope < 8) {
		mes "[可疑的人]";
		mes "......";
		close;
	} else if (ep14_1_rope == 8) {
		donpcevent "洛佩#pa::OnEnable";
		mes "[可疑的人]";
		mes "Aaaarrrrrggggghhhh!!!!!!";
		mes "I can't see anything.";
		mes "Who's there?";
		mes "Answer, or I'll take you as an enemy and kill you.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Euridi is looking for you.";
		next;
		mes "[可疑的人]";
		mes "......";
		next;
		mes "[洛佩]";
		mes "Wraith, how can you be so harsh to me?";
		mes "I asked you to wipe the name off my mind";
		mes "in return for bearing the curse!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Will you please calm down and listen to...";
		next;
		mes "[洛佩]";
		mes "My desire to help";
		mes "led me to my death,";
		mes "And my desire to survive and take revenge";
		mes "led me to my rebirth.";
		mes "I will not side with life any more.";
		next;
		mes "[洛佩]";
		mes "As soon as my transformation is over,";
		mes "I will punish you all with the bloody confusion of the Hazy Forest,";
		mes "which saved my life!";
		next;
		mes "You put the letter Euridi pieced together in Lope's hands.";
		next;
		mes "[洛佩]";
		mes "...This is!";
		mes "I feel Euridi's touch.";
		mes "So the letter... was delivered to Euridi?";
		mes "This is unbelievable...";
		next;
		mes "[洛佩]";
		mes "Deformed as I am now,";
		mes "I'm not her love any more.";
		mes "Go back, and tell her that Lope turned to dust";
		mes "on the ground of the Hazy Forest long ago.";
		next;
		mes "[洛佩]";
		mes "Now go!";
		mes "This is my last request as a Laphine called Lope...";
		set ep14_1_rope,9;
		changequest 1115,1116;
		close;
	} else {
		mes "[洛佩]";
		mes "Deformed as I am now,";
		mes "I'm not her love any more.";
		mes "Go back, and tell her that Lope turned to dust";
		mes "on the ground of the Hazy Forest long ago.";
		next;
		mes "[洛佩]";
		mes "Now go!";
		mes "This is my last request as a Laphine called Lope...";
		next;
		mes "You see a ring glowing faintly on his left hand.";
		close;
	}
	end;
OnEnable:
	setnpcdisplay "洛佩#pa",999;
	end;
OnDisable:
	disablenpc "洛佩#pa";
	initnpctimer;
	end;
OnReset:
	setnpcdisplay "洛佩#pa",461;
	enablenpc "洛佩#pa";
	end;
OnTimer2000:
	donpcevent "洛佩#pa::OnReset";
	stopnpctimer;
	end;
OnTouch:
	mes "我看见一个可疑的人. 我是不是应该和他对话?";
	next;
	switch(select("离开.:和他对话.")) {
	case 1:
		donpcevent "洛佩#pa::OnDisable";
		mes "[可疑的人]";
		mes "......";
		close;
	case 2:
		donpcevent "洛佩#pa::OnDisable";
		if (ep14_1_rope == 7) {
			mes "[可疑的人]";
			mes ".";
			mes "...";
			mes "........!!!";
			next;
			mes "[可疑的人]";
			mes "Aaaaarrrrrggghh!!!!!";
			set ep14_1_rope,8;
			close;
		} else {
			mes "[可疑的人]";
			mes "......";
			close;
		}
	}
}

// Find the Research Tools :: ep14_1_muk
//============================================================
mora,31,138,6	script	草精研究人员#ep14	4_M_RAFLE_OR,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 500) {
		mes "^FF0000- Warning message -";
		mes "- Hang on there!! -";
		mes "- You have too many items -";
		mes "- to receive any more items. -";
		mes "- Please lighten your load -";
		mes "- and try again. -^000000";
		close;
	}
	// NPC disabled from 12am ~ 5am.
	if (gettime(3) >= 0 && gettime(3) < 5) {
		if (ep14_1_muk > 0) {
			mes "[草精研究人员]";
			mes "Don't humans sleep?";
			mes "People should be sleeping at this hour.";
			mes "Why on earth are you bothering me?";
			next;
			mes "[草精研究人员]";
			mes "I can't get any sleep because of you.";
			mes "I have to sleep for my research tomorrow.";
			mes "You should go sleep too.";
			close;
		} else {
			mes "Z z Z z";
			next;
			mes "^FF0000He appears to be asleep.^000000";
			close;
		}
	}
	if (ep14_1_muk == 0) {
		mes "[草精研究人员]";
		mes "Oh no~ My research tools...";
		mes "What...... What was it?";
		emotion e_sob;
		next;
		select("What is your business here?");
		mes "[草精研究人员]";
		mes "Hmm?";
		emotion e_what;
		next;
		mes "[草精研究人员]";
		mes "You're human...? Are you human...?";
		mes "You... came from the underworld?";
		next;
		mes "[草精研究人员]";
		mes "Human beings are incredible...";
		mes "You survived the crevice and made it here.";
		next;
		mes "[草精研究人员]";
		mes "... ... ...";
		next;
		mes "[草精研究人员]";
		mes "You, come here for a minute.";
		mes "It's a simple experiment, so there's no need to be afraid.";
		emotion e_gg;
		next;
		if(select("What a crazy Raffle. I must run away.:... ...") == 1) {
			mes "[草精研究人员]";
			mes "You said you had made it up from the Crevice,";
			mes "so I was wondering what race you were,";
			mes "but a mere human? How did you get up here?";
			emotion e_lv;
			close;
		}
		if (BaseLevel < 100) {
			mes "[草精研究人员]";
			mes "What... I thought a human who made it up from the Crevice";
			mes "would be extraordinary,";
			mes "but you're no more than a kid.";
			next;
			mes "[草精研究人员]";
			mes "Go hunt more ^000000Porings^000000";
			mes "and come back when your level is in the triple digits kid!";
			close;
		}
		mes "[草精研究人员]";
		mes "... ... ...";
		emotion e_dots;
		next;
		mes "[草精研究人员]";
		mes "You... You're not like the other humans.";
		mes "You're not running away...";
		next;
		mes "[草精研究人员]";
		mes "You've got some serious guts...";
		mes "Now I really want to do some experiments on you...";
		next;
		select("Well... that's... um...");
		mes "[草精研究人员]";
		mes "Ha ha... Just kidding...";
		mes "I'm a 草精研究人员,";
		mes "but I don't research humans.";
		mes "Actually, I have no idea";
		mes "what to research";
		mes "about humans...";
		next;
		select("Glad to hear that...");
		mes "[草精研究人员]";
		mes "That's that. You're not busy, are you?";
		mes "I'd like you to give me a hand...";
		next;
		select("Help him.:Help willingly.:Although you feel a little embarrassed, help anyhow.:Help with conviction.:Help adorably.:You're suspicious, but help anyhow.:You have no choice. Help him.");
		mes "[草精研究人员]";
		mes "I haven't met many humans";
		mes "but you clearly care about";
		mes "another person's hardship.";
		mes "You must be an ^FF0000extremely^000000 nice human.";
		emotion e_no1;
		next;
		mes "[草精研究人员]";
		mes "I'll save my thanks for time's sake.";
		mes "It's important, so please take care of it quickly.";
		mes "I can't proceed with the research because of it.";
		next;
		mes "[草精研究人员]";
		mes "Here at the Mora Inn,";
		mes "there's a very famous bath.";
		mes "If anybody, not just us Raffles,";
		mes "goes into the bath water";
		mes "their wounds will be healed instantly...";
		next;
		mes "[草精研究人员]";
		mes "So being a great researcher, I went into the bath";
		mes "to check it out further";
		mes "and... unfortunately...";
		next;
		mes "[草精研究人员]";
		mes "I was attacked by a mysterious creature,";
		mes "and I lost consciousness.";
		next;
		mes "[草精研究人员]";
		mes "When I woke up, I realized that";
		mes "my important research tools were missing...";
		mes "So I was at a loss for what to do.";
		next;
		mes "[草精研究人员]";
		mes "And here you are, a human,";
		mes "a brave, heroic human that arrived at Mora Village from the Crevice.";
		mes "Your willingness to help has really taken this load off of my mind.";
		next;
		select("... ... ...");
		mes "[草精研究人员]";
		mes "Please go to the bath house and retrieve my research tools.";
		mes "The sooner you get them back,";
		mes "the sooner I can get back to my research.";
		setquest 5016;
		set ep14_1_muk,1;
		next;
		mes "[草精研究人员]";
		mes "Have a safe trip.";
		emotion e_paper;
		close;
	} else if (ep14_1_muk == 1) {
		if (checkquest(5016) > -1 && countitem(6385) == 0) {
			mes "[草精研究人员]";
			mes "You're back? Where are my research tools?";
			emotion e_what;
			next;
			mes "[草精研究人员]";
			mes "You still haven't found the research tools?";
			mes "I'm disappointed. Get yourself to the bath";
			mes "and quickly retrieve my research tools";
			mes "taken away from me.";
			close;
		}
		mes "[草精研究人员]";
		mes "Wow!! You found the research tools...?";
		mes "You're quite capable.";
		mes "I really like how you handle your work.";
		next;
		mes "[草精研究人员]";
		mes "I like you.";
		mes "Do you want to work on my research with me?";
		mes "I could use your help here and there,";
		mes "until I'm done with this research.";
		next;
		select("As you wish.");
		mes "[草精研究人员]";
		mes "Great. Thanks, and when we're done,";
		mes "I'll pay you handsomely.";
		mes "Also, for every research project that's completed,";
		mes "I'll also give you some pocket money.";
		next;
		mes "[草精研究人员]";
		mes "Young Raffles these days... they are just plain stupid.";
		mes "I've always wanted a capable research assistant,";
		mes "but it hasn't been easy to find one.";
		next;
		if (checkweight(6380,1) == 0) {
			mes "[草精研究人员]";
			mes "By the way... Was it that difficult to";
			mes "reclaim the research tools?";
			mes "You're carrying some very heavy looking equipment.";
			mes "Go lighten your load, and I'll pay you for your work.";
			close;
		}
		mes "[草精研究人员]";
		mes "It must've been hard work to retrieve the tools.";
		mes "Why don't you take this and go to the inn";
		mes "and rest up? There's nothing for you to do right now.";
		delitem 6385,1; //Research_Tool_Bag
		set ep14_1_muk,2;
		getitem 6380,1; //Mora_Coin
		erasequest 5016;
		close;
	} else if (ep14_1_muk == 2) {
		// Unofficial check, but it's needed here.
		if (checkquest(5029,PLAYTIME) == 0 || checkquest(5029,PLAYTIME) == 1) {
			mes "[草精研究人员]";
			mes "It must've been hard work to retrieve the tools.";
			mes "Why don't you take this and go to the inn";
			mes "and rest up? There's nothing for you to do right now.";
			close;
		}
		switch(rand(1,5)) {
		case 1:
			mes "[草精研究人员]";
			mes "I'm still preparing for the research.";
			mes "Unfortunately a few research tools";
			mes "were damaged.";
			emotion e_an;
			close;
		case 2:
			mes "[草精研究人员]";
			mes "Come to think of it, I don't think";
			mes "I told you my name.";
			next;
			mes "[草精研究人员]";
			mes "My name is Inffle. If anybody";
			mes "asks you who you are working with,";
			mes "you can say ^0000FFI'm working with Researcher Inffle.^000000";
			mes "That's why I'm telling you my name.";
			emotion e_ok;
			close;
		case 3:
			mes "[草精研究人员]";
			mes "Why? The inn is closed?";
			mes "That's strange, it shouldn't be.";
			mes "Why don't you go try again?";
			emotion e_what;
			close;
		case 4:
			break;
		case 5:
			mes "[草精研究人员]";
			mes "Darn, I get more worked up the more I think about it.";
			mes "It's not like I went with bad intentions...";
			mes "I just wanted to do some research...";
			mes "Can't believe I got attacked...";
			mes "I just can't believe it...";
			mes "What do you think?";
			emotion e_an;
			close;
		}
		mes "[草精研究人员]";
		mes "Good thing you're here.";
		next;
		mes "[草精研究人员]";
		mes "I've been thinking about";
		mes "the unidentified creature in the bath.";
		mes "He's quite the little devil, to take research tools,";
		mes "which are as important to a researcher as his life...";
		next;
		mes "[草精研究人员]";
		mes "A research assistant's job";
		mes "is to make sure that the researcher can focus on his research";
		mes "And not have to worry about anything else... VERY! Important.";
		next;
		mes "[草精研究人员]";
		mes "I'd like you to take my revenge";
		mes "on the unidentified creature for me...";
		next;
		mes "[草精研究人员]";
		mes "I don't even want anything that drastic.";
		mes "3 times! Go bully him for just 3 times.";
		mes "You can draw on his face,";
		mes "pinch him, tickle him,";
		mes "whatever you want. Just bully him 3 times.";
		set ep14_1_muk,3;
		setquest 5017;
		close;
	} else if (ep14_1_muk  < 6) {
		mes "[草精研究人员]";
		mes "How's the work going?";
		mes "An assistant has to work swiftly and effectively.";
		mes "Could it be that you have forgotten";
		mes "what your task is?";
		next;
		select("Exactly. What should I do?");
		mes "[草精研究人员]";
		mes "Go bully the unidentified creature";
		mes "just 3 times.";
		mes "You can draw on his face,";
		mes "pinch him, tickle him, or whatever.";
		mes "Bully him 3 times.";
		emotion e_gg;
		close;
	} else if (ep14_1_muk == 6) {
		mes "[草精研究人员]";
		mes "So you taught him a lesson? Great. I feel avenged!";
		emotion e_heh;
		next;
		mes "[草精研究人员]";
		mes "For a while, I couldn't sleep";
		mes "because I couldn't stop thinking about the lost research tools.";
		next;
		mes "[草精研究人员]";
		mes "That's that! We need to begin the bath research now.";
		mes "I need to finish the research quickly,";
		mes "so that I can start on a new topic.";
		next;
		mes "[草精研究人员]";
		mes "Go to the bath water";
		mes "with the sample tube that I give you,";
		mes "and gather some samples.";
		next;
		mes "[草精研究人员]";
		mes "Look around the bath water,";
		mes "and you will find an area emitting a distinct aura.";
		mes "You can collect the samples";
		mes "from that area.";
		next;
		if (MaxWeight - Weight < 100 || checkweight(1092,10) == 0) {
			mes "[草精研究人员]";
			mes "You are carrying too much Weight.";
			mes "I can't give you the sample tube.";
			mes "Why don't you lighten your load and come back?";
			close;
		}
		mes "[草精研究人员]";
		mes "Here is the sample tube for collecting.";
		mes "Go and collect 10 samples!";
		set ep14_1_muk,7;
		getitem 1092,10; //Empty_Cylinder
		erasequest 5018;
		setquest 5019;
		close;
	} else if (ep14_1_muk == 7) {
		if (checkquest(5019) > -1 && countitem(6386) < 10) {
			mes "[草精研究人员]";
			mes "Have you collected the samples yet?";
			mes "Please hurry up.";
			next;
			mes "[草精研究人员]";
			mes "Look around the bath water,";
			mes "and you will find an area emitting a distinct aura.";
			mes "You can collect the samples";
			mes "from that area.";
			close;
		}
		if (checkweight(6380,1) == 0) {
			mes "[草精研究人员]";
			mes "I know that you've done a lot...";
			mes "but you are carrying too many things.";
			mes "Even though I want to give you pocket money, I can't.";
			mes "Could you lighten your load and come back?";
			close;
		}
		mes "[草精研究人员]";
		mes "You got the bath water sample. Great job.";
		next;
		mes "[草精研究人员]";
		mes "I'll have to run a few tests";
		mes "with the bath water samples.";
		mes "It usually takes about 24 hours.";
		mes "Why don't you come back then?";
		delitem 6386,10; //Bathtub_R_Sample
		getitem 6380,1; //Mora_Coin
		set ep14_1_muk,8;
		erasequest 5019;
		setquest 5020;
		close;
	} else if (ep14_1_muk == 8) {
		if (checkquest(5020,PLAYTIME) == 0 || checkquest(5020,PLAYTIME) == 1) {
			mes "[草精研究人员]";
			mes "The basic tests have not been completed yet.";
			mes "There's nothing for you to do now.";
			mes "Go for a walk.";
			mes "Spend some money that I gave you.";
			close;
		}
		mes "[草精研究人员]";
		mes "The basic tests are done.";
		mes "As I thought...";
		mes "There were many interesting substances in the bath water.";
		emotion e_ho;
		next;
		mes "[草精研究人员]";
		mes "The most notable is this unidentifiable DNA.";
		mes "I didn't have a chance to compare it to a lot of DNA samples,";
		mes "but I'm pretty sure that this DNA";
		mes "has been transformed by the mysterious substances of the bath.";
		next;
		mes "[草精研究人员]";
		mes "After much thought,";
		mes "I concluded that this DNA probably belongs to";
		mes "the unidentified creature that attacked me.";
		next;
		if (rand(2)) {
			set .@str$,"teeth";
			set .@quest,5021;
		} else {
			set .@str$,"scales";
			set .@quest,5022;
		}
		mes "[草精研究人员]";
		mes "I'd better compare the two.";
		mes "Please return to the bath";
		mes "and look for the creature's "+.@str$+".";
		mes "If you can, please bring me 10 of them.";
		set ep14_1_muk,9;
		erasequest 5020;
		setquest .@quest;
		close;
	} else if (ep14_1_muk == 9) {
		if (checkquest(5021) > -1 || checkquest(5022) > -1) {
			if (checkquest(5021) > -1) {
				set .@quest,5021;
				set .@item,6387; //Teeth_Sample
				setarray .@str$[0],"tooth","teeth";
			} else {
				set .@quest,5022;
				set .@item,6388; //Scale_Sample
				setarray .@str$[0],"scale","scales";
			}
			if (countitem(.@item) < 10) {
				mes "[草精研究人员]";
				mes "Haven't you found the unidentified creature's "+.@str$[1]+" yet?";
				mes "Look carefully!";
				mes "I'm certain that the creature";
				mes "dropped his "+.@str$[1]+" somewhere.";
				close;
			}
			mes "[草精研究人员]";
			mes "You've collected all the "+.@str$[0]+" samples, finally.";
			mes "As humans say,";
			mes "I've been waiting forever for them.";
			next;
			if (checkweight(6380,1) == 0) {
				mes "[草精研究人员]";
				mes "I know that you've done a lot...";
				mes "but you are carrying too many things.";
				mes "Even though I want to give you pocket money, I can't.";
				mes "Could you lighten your load and come back?";
				close;
			}
			mes "[草精研究人员]";
			mes "OK, I'll get to work right away.";
			mes "If you have any business to attend to, do so.";
			mes "The DNA analysis takes about 6 hours.";
			mes "Why don't you go for a walk";
			mes "and come back then?";
			delitem .@item,10;
			getitem 6380,1; //Mora_Coin
			erasequest .@quest;
			setquest 5023;
			close;
		} else if (checkquest(5023,PLAYTIME) == 0 || checkquest(5023,PLAYTIME) == 1) {
			mes "[草精研究人员]";
			mes "I'm still analyzing the DNA.";
			mes "The DNA analysis takes about 6 hours.";
			mes "Why don't you go for a walk and come back then?";
			close;
		} else {
			switch(rand(1,6)) {
			case 1:
			case 3:
				set .@quest,5021;
				set .@item,6387; //Teeth_Sample
				setarray .@str$[0],"tooth","teeth";
				break;
			case 2:
			case 4:
				set .@quest,5022;
				set .@item,6388; //Scale_Sample
				setarray .@str$[0],"scale","scales";
				break;
			case 5:
			case 6:
				break;
			}
			if (.@quest) {
				mes "[草精研究人员]";
				mes "This is not it.";
				mes "The samples that you collected belonged to a normal species.";
				emotion e_swt2;
				next;
				mes "[草精研究人员]";
				mes "Must be because so many species of creatures";
				mes "have been in the bath.";
				next;
				mes "[草精研究人员]";
				mes "I'm sorry, but please re-collect the samples.";
				mes "This time, the "+.@str$[1]+"... Yes.";
				mes "Please bring the "+.@str$[0]+" samples.";
				erasequest 5023;
				setquest .@quest;
				close;
			}
			mes "[草精研究人员]";
			mes "Great! These samples are surely";
			mes "from the mysterious creature.";
			next;
			mes "[草精研究人员]";
			mes "According to the analysis,";
			mes "The DNA is a mutant form of fish DNA.";
			mes "I'm not sure how long this creature";
			mes "has lived in the bath,";
			mes "but this DNA is 70% evolved";
			mes "from the original fish DNA.";
			next;
			mes "[草精研究人员]";
			mes "Where did this fish come from?";
			mes "How can it survive in the warm bath water?";
			mes "After the DNA analysis,";
			mes "my head is filled with even more questions.";
			next;
			mes "... ... ... ... ...";
			emotion e_dots;
			emotion e_dots,1;
			next;
			mes "[草精研究人员]";
			mes "The village elders say";
			mes "that the bath water comes from";
			mes "the puddles around the village.";
			next;
			callsub L_CheckWeight;
			mes "[草精研究人员]";
			mes "If you get me a sample from the puddle";
			mes "to the east, at 2 o'clock from here,";
			mes "I'll tell you what to do next.";
			next;
			mes "[草精研究人员]";
			mes "You probably don't need to run around";
			mes "like you did collecting";
			mes "the bath water samples.";
			set ep14_1_muk,10;
			getitem 1092,1; //Empty_Cylinder
			erasequest 5023;
			setquest 5024;
			next;
			mes "[草精研究人员]";
			mes "If you get all 4 puddle samples at once";
			mes "it may be more convenient. However,";
			mes "there's the risk of samples being damaged or mixed up.";
			mes "Therefore, I'm going to send you one place at a time. Good luck.";
			close;
		}
	} else if (ep14_1_muk == 10) {
		if (countitem(6389) == 0) {
			mes "[草精研究人员]";
			mes "You still haven't gone to collect the puddle sample?";
			mes "Go to the puddle to the east of the village,";
			mes "and collect a sample.";
			mes "It's going to be at 2 o'clock from here.";
			close;
		}
		mes "[草精研究人员]";
		mes "You have the sample from the puddle to the east?";
		mes "Great job, but it's no time to rest -";
		mes "the research is almost done.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究人员]";
		mes "Get me a sample from the puddle from the west.";
		mes "It's not completely to the west...";
		mes "The puddle should be at 7 o'clock";
		mes "from the village.";
		delitem 6389,1; //Puddle_R_Sample
		set ep14_1_muk,11;
		getitem 1092,1; //Empty_Cylinder
		changequest 5024,5025;
		next;
		mes "[草精研究人员]";
		mes "Take care not to damage the sample.";
		mes "Good luck!";
		close;
	} else if (ep14_1_muk == 11) {
		if (countitem(6389) == 0) {
			mes "[草精研究人员]";
			mes "You still haven't gone to collect the puddle sample?";
			mes "Go to the puddle to the west of the village,";
			mes "and collect a sample.";
			mes "It's going to be at 7 o'clock from here.";
			close;
		}
		mes "[草精研究人员]";
		mes "You have the sample from the puddle to the west?";
		mes "Great job, but it's no time to rest -";
		mes "the research is almost done.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究人员]";
		mes "Get me a sample from the puddle from the south.";
		mes "The puddle to the south";
		mes "should be... at 6 o'clock from here.";
		delitem 6389,1; //Puddle_R_Sample
		set ep14_1_muk,12;
		getitem 1092,1; //Empty_Cylinder
		changequest 5025,5026;
		next;
		mes "[草精研究人员]";
		mes "I can't emphasize this enough, even if I did it 1000000000000000000000 times.";
		mes "Please take care that";
		mes "the sample is not damaged.";
		close;
	} else if (ep14_1_muk == 12) {
		if (countitem(6389) == 0) {
			mes "You still haven't gone to collect the puddle sample?";
			mes "Get me a sample from the puddle from the south.";
			mes "The puddle to the south is located";
			mes "at 6 o'clock from here.";
			next;
			mes "[草精研究人员]";
			mes "You know what I'm going to say?";
			mes "Be careful.";
			close;
		}
		mes "[草精研究人员]";
		mes "You have the sample from the puddle to the south?";
		mes "Now only the puddle to the north";
		mes "remains to be sampled.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究人员]";
		mes "Please get me the sample from the puddle to the north.";
		mes "It's not completely to the north.";
		mes "it's at 11 o'clock from the village.";
		delitem 6389,1; //Puddle_R_Sample
		set ep14_1_muk,13;
		getitem 1092,1; //Empty_Cylinder
		changequest 5026,5027;
		next;
		mes "[草精研究人员]";
		mes "You know what I'm going to say?";
		mes "Be careful.";
		close;
	} else if (ep14_1_muk == 13) {
		if (countitem(6389) == 0) {
			mes "[草精研究人员]";
			mes "You still haven't gone to collect the puddle sample?";
			mes "Please get me a sample from the puddle to the north.";
			mes "It's not exactly north of the village.";
			mes "The puddle should be located at 11 o'clock";
			mes "from the village.";
			close;
		}
		mes "[草精研究人员]";
		mes "You brought the last sample from the puddle from the north.";
		mes "Great work. You've done really well.";
		next;
		mes "[草精研究人员]";
		mes "Now, I'm going to do some research";
		mes "with these samples,";
		mes "looking at the relationship between";
		mes "these puddles and the bath.";
		next;
		if (checkweight(6380,4) == 0) {
			mes "[草精研究人员]";
			mes "I know that you've done a lot...";
			mes "but you are carrying too many things.";
			mes "Even though I want to give you pocket money, I can't.";
			mes "Could you lighten your load and come back?";
			close;
		}
		mes "[草精研究人员]";
		mes "If I finish this experiment...";
		mes "There's probably nothing else to do. While I run the experiment,";
		mes "why don't you go and entertain yourself?";
		delitem 6389,1; //Puddle_R_Sample
		set ep14_1_muk,14;
		getitem 6380,4; //Mora_Coin
		erasequest 5027;
		setquest 5028;
		next;
		mes "[草精研究人员]";
		mes "Comparison of the samples and the bath water";
		mes "will take about 12 hours.";
		close;
	} else if (ep14_1_muk == 14) {
		if (checkquest(5028,PLAYTIME) == 0 || checkquest(5028,PLAYTIME) == 1) {
			mes "[草精研究人员]";
			mes "What? You're here? Well...";
			next;
			mes "[草精研究人员]";
			mes "But the sample studies have not been finished.";
			mes "This is an experiment for the final result,";
			mes "so don't be too hasty.";
			mes "I think the research will take about 12 hours.";
			next;
			mes "[草精研究人员]";
			mes "Come back then.";
			close;
		}
		mes "[草精研究人员]";
		mes "You're here? Finally,";
		mes "the experiment results are all in.";
		mes "Do you want to look at the results?";
		next;
		switch(select("Actually, I don't want to.:Look at the results.")) {
		case 1:
			mes "[草精研究人员]";
			mes "Good thinking. Actually, it may hurt";
			mes "regular people's brains to look at it.";
			mes "I suppose it's time for your reward";
			mes "for helping me out so much.";
			next;
			mes "[草精研究人员]";
			mes "Did I talk to you about the reward before the experiment?";
			mes "That you won't be sorry that you helped out...";
			next;
			break;
		case 2:
			mes "[草精研究人员]";
			mes "You're curious about the results? Really???";
			mes "OK, here it is.";
			next;
			callsub L_ShowReport;
			mes "[草精研究人员]";
			mes "There are no volcanoes around the area";
			mes "and no record of volcanoes in the past,";
			mes "but the water temperature is that high...";
			mes "Isn't it surprising?";
			next;
			mes "[草精研究人员]";
			mes "The ingredients are... yes.";
			mes "There are certainly substances that are beneficial for you humans.";
			mes "But, there are also substances";
			mes "that are fatal to us Raffles,";
			mes "or other races.";
			next;
			mes "[草精研究人员]";
			mes "And if you look at the electric conductivity,";
			mes "it is quite higher than that of the average water.";
			mes "My theory is that";
			mes "this must be the cause of the mysterious power.";
			mes "That's what I'm thinking about.";
			mes "Anyhow.";
			next;
			mes "[草精研究人员]";
			mes "There is something at work that science cannot explain";
			mes "in the bath water...";
			mes "Take the unidentified creature, for instance.";
			mes "How strange is it that a fish can live";
			mes "in such warm water?";
			next;
			mes "[草精研究人员]";
			mes "I'm not satisfied with the research results and conclusions.";
			mes "I guess in the end,";
			mes "it will remain a mystery...";
			next;
			mes "[草精研究人员]";
			mes "I suppose it's time for your reward";
			mes "for helping me out so much.";
			next;
			mes "[草精研究人员]";
			mes "Did I talk to you about the reward before the experiment?";
			mes "That you won't be sorry that you helped out...";
			next;
			break;
		}
		mes "[草精研究人员]";
		mes "I was thinking about what you would want";
		mes "for your reward... and I felt";
		mes "a little... sad.";
		next;
		mes "[草精研究人员]";
		mes "... ... ... ...";
		next;
		mes "[草精研究人员]";
		mes "During our short time here together working on these projects,";
		mes "I sent you all over the place.";
		mes "It must've been hard, but you didn't complain at all.";
		mes "And unlike some of the other guys I've had,";
		mes "you never skipped work.";
		next;
		mes "[草精研究人员]";
		mes "I suppose I've grown fond of you,";
		mes "so that it saddens me to say goodbye...";
		next;
		mes "[草精研究人员]";
		mes "But thank you anyhow. I've been researching for a while,";
		mes "but I've never met such an excellent research assistant as you.";
		next;
		if (MaxWeight - Weight < 100 || checkweight(1092,1) == 0) {
			mes "[草精研究人员]";
			mes "Hmm? By the way...";
			mes "You are carrying too much Weight.";
			mes "Could it be because you are also sad";
			mes "about parting ways?";
			next;
			mes "[草精研究人员]";
			mes "With this Weight, I can't give you a reward!";
			close;
		}
		mes "[草精研究人员]";
		mes "The best research assistant in my life...";
		mes "is you, "+strcharinfo(0)+"!!!";
		set ep14_1_muk,15;
		completequest 5028;
		getexp 1000000,4000000;
		getitem 6380,30; //Mora_Coin
		next;
		mes "[草精研究人员]";
		mes "If we happen to run into each other again,";
		mes "let's work on a research project once more.";
		close;
	} else if (ep14_1_muk == 15) {
		mes "[草精研究人员]";
		mes "Hmm? No?... What are you doing here?";
		next;
		mes "[草精研究人员]";
		mes "Could it be that you suddenly want to look at";
		mes "the research report???";
		next;
		switch(select("Look at the report.:I came to say hello.")) {
		case 1:
			mes "[草精研究人员]";
			mes "Haven't I shown it to you before?";
			next;
			mes "[草精研究人员]";
			mes "... ... ... ...";
			emotion e_dots;
			next;
			mes "[草精研究人员]";
			mes "Maybe I haven't shown you.";
			mes "Sorry about that. So you wanted to see it so badly";
			mes "that you came back to see me?";
			mes "Great! Here it is.";
			next;
			while(1) {
				callsub L_ShowReport;
				mes "[草精研究人员]";
				mes "This concludes the report of";
				mes "Mora Village's mysterious bath.";
				mes "You want to look again?";
				emotion e_what;
				next;
				switch(select("Look again.:Don't look again.")) {
				case 1:
					mes "[草精研究人员]";
					mes "Sure... As you wish!!";
					next;
					break;
				case 2:
					mes "[草精研究人员]";
					mes "Goodbye. Come by any time,";
					mes "if you want to look at the results again.";
					mes "You're always welcome here.";
					close;
				}
			}
		case 2:
			mes "[草精研究人员]";
			mes "Oh, You came to say hi. I see.";
			mes "Long time no see, "+strcharinfo(0)+".";
			next;
			mes "[草精研究人员]";
			mes "I've been telling you that I lucked out in picking you as my research assistant.";
			mes "Come by any time,";
			mes "if you want to look at the results again.";
			mes "You're always welcome here.";
			close;
		}
	} else {
		mes "[草精研究人员]";
		mes "Hmm? I'm Researcher Inffle.";
		mes "Who are you?";
		close;
	}
	end;
L_ShowReport:
	mes "[Experimental Results]";
	mes "*** Researcher - Inffle";
	mes "*** Research Assistant - "+strcharinfo(0);
	mes "　";
	mes "<Research topic>";
	mes "*** Bath of Mora Village";
	mes "　";
	mes "<Aim>";
	mes "To investigate the mysterious power of the bath water";
	mes "and to find out ways to better utilize";
	mes "the water.";
	mes "　";
	mes "<Methods>";
	mes "1. Obtained an unidentified DNA sample.";
	mes "Obtained a sample of an unidentified DNA,";
	mes "and collected more samples to look further into it.";
	mes "　";
	mes "2. A comparison analysis on the unidentified DNA";
	mes "Concluded that the DNA belongs to";
	mes "an unidentified creature living in the bath water.";
	mes "combine and result in";
	mes "from the swordfish DNA.";
	mes "　";
	mes "3. Research on the puddles around the village";
	mes "From the four puddles around the village,";
	mes "confirmed that the testing substances were";
	mes "distributed evenly across the puddles.";
	mes "It is thought that the four puddles";
	mes "combine and result in";
	mes "the mysterious power.";
	mes "　";
	mes "<Material analysis>";
	mes "*** Temperature ***** 33.5?";
	mes "*** PH ************ 9.8";
	mes "*** Solid residues *** 176";
	mes "*** K+ ************ 0,23";
	mes "*** Ca++ ********** 1.83";
	mes "*** Cl- *********** 26.2";
	mes "*** HCO3- ********* 31.0";
	mes "*** H2S *********** 1.7";
	mes "*** Na++ ********** 51.9";
	mes "*** Mg+ *********** 0.03";
	mes "*** SO4- ********** 5.0";
	mes "*** F ************* 12.8";
	mes "*** SiO2 ********** 23.9";
	mes "*** Li ************ 0.06";
	mes "*** CO3+ ********** 22.8";
	mes "*** Sr ************ 0.04";
	mes "*** Ge ************ 0.004";
	mes "*** T-solids ****** 165";
	mes "*** Electric conductivity **** 500";
	mes "*** Longitude ********** 4.6";
	next;
	return;
L_CheckWeight:
	if (MaxWeight - Weight < 100 || checkweight(1092,1) == 0) {
		mes "[草精研究人员]";
		mes "You are carrying too much Weight.";
		mes "I can't give you the sample tube.";
		mes "Why don't you lighten your load and come back?";
		close;
	}
	return;
}

mora,114,79,0	script	黑色的影子#ep14_muk	CLEAR_NPC,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 500) {
		mes "^FF0000- 警告信息 -";
		mes "- 站住!! -";
		mes "- 你携带了太多的物品 -";
		mes "- 存放掉部分后. -";
		mes "- 并同时减轻你的负重 -";
		mes "- 再进行尝试. -^000000";
		close;
	}
	if (BaseLevel < 100) {
		mes "有什么东西正从上到下打量着你, 之后便消失了, 带着嘲讽的表情.";
		close2;
		donpcevent "黑色的影子#ep14_muk::OnDisable";
		end;
	}
	set .@playtime, checkquest(5029,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "You see a dark hole. As you show interest, something disappears quickly into the dark hole.";
		close2;
		donpcevent "黑色的影子#ep14_muk::OnDisable";
		end;
	} else if (.@playtime == 2)
		erasequest 5029;
	if (ep14_1_goki == 30) {
		if (checkquest(5030) == -1 && checkquest(5031) == -1 && checkquest(5032) == -1 && checkquest(5033) == -1 && checkquest(5034) == -1) {
			mes "[Unidentified creature]";
			mes "Arrgghh!!!";
			mes "Why you bother me.";
			mes "You stop bullying me.";
			next;
			if(select("Bully anyway.:I'll stop.") == 1) {
				emotion e_sob;
				set ep14_1_goki,0;
				close2;
				donpcevent "黑色的影子#ep14_muk::OnDisable";
				end;
			}
			mes "[Unidentified creature]";
			mes "You... Good.";
			mes "Everybody calls me monster.";
			mes "Hit me. Bully. Me tired.";
			next;
			mes "[Fishee]";
			mes "My name Fishee.";
			mes "Dad name me.";
			next;
			mes "... ... ... ... ...";
			next;
			mes "He appears to be rambling.";
			next;
			mes "[Fishee]";
			mes "Bully. Fun. Every day.";
			mes "I talk. Still bully.";
			next;
			mes "[Fishee]";
			mes "You... Good. Help Fishee?";
			next;
			if(select("Don't help.:Help.") == 1) {
				emotion e_sob;
				set ep14_1_goki,0;
				close2;
				donpcevent "黑色的影子#ep14_muk::OnDisable";
				end;
			}
			mes "[Fishee]";
			mes "You good. Good!";
			next;
			mes "[Fishee]";
			mes "Me didn't live here.";
			mes "Me lived puddle.";
			mes "Puddle. Live there.";
			next;
			mes "[Fishee]";
			mes "Me sleep weird.";
			mes "Wake up one day.";
			mes "Here, bath.";
			next;
			mes "[Fishee]";
			mes "Don't know how go home.";
			mes "Me just live here.";
			mes "Grow big. Hole small.";
			mes "Can't get in.";
			next;
			mes "[Fishee]";
			mes "Me miss family. Me want to see family.";
			mes "You good. How my family do.";
			mes "Bring me. Good.";
			next;
			select("How would I know who is your family?");
			mes "[Fishee]";
			mes "Us fish stupid.";
			mes "Stupid. But know family name.";
			next;
			mes "[Fishee]";
			mes "Family know name Fishee. Family come.";
			next;
			mes "[Fishee]";
			mes "Please. In puddle.";
			mes "You tell me my family do okay.";
			setquest 5030+rand(4); //5030,5031,5032,5033
			close;
		} else if (checkquest(5030) > -1 || checkquest(5031) > -1 || checkquest(5032) > -1 || checkquest(5033) > -1) {
			mes "[Fishee]";
			mes "Please. In puddle.";
			mes "You tell me my family do okay.";
			next;
			mes "[Fishee]";
			mes "You forgot me name?";
			next;
			if(select("Please tell me your name again!:I know your name.") == 1) {
				mes "[Fishee]";
				mes "Your memory, like fish.";
				mes "Stupid. I talk.";
				mes "My name Fishee, Fishee!!";
				next;
			}
			mes "[Fishee]";
			mes "Please. In puddle.";
			mes "You tell me my family do okay.";
			close;
		} else if (checkquest(5034) > -1 && checkquest(5034) < 2) {
			if (MaxWeight - Weight < 100 || checkweight(5792,1) == 0) {
				mes "[Fishee]";
				mes "You have lots.";
				mes "I give. To you.";
				mes "Empty bag. Come back.";
				close;
			}
			mes "[Fishee]";
			mes "You told me my family ok. Thank you.";
			mes "I know thank you. Fish.";
			mes "Re... Don't know word.";
			next;
			select("Perhaps... Reward??");
			mes "[Fishee]";
			mes "Yes. That. You good.";
			mes "Smart. Give you reward.";
			mes "I know thank you. Fish.";
			next;
			mes "[Fishee]";
			mes "This, I got from bath.";
			mes "No. Someone left it.";
			mes "... ... Good guy. I give you.";
			completequest 5034;
			getitem 5792,1; //Fish_Pin
			close;
		} else if (checkquest(5034) == 2) {
			mes "[Fishee]";
			mes "You...  I saw. Feeling. I saw. Feeling.";
			mes "You... Name?";
			next;
			input .@inputstr$;
			mes "[Fishee]";
			mes .@inputstr$+" do.";
			mes "No know. No remember..";
			mes "Who.. you... are?";
			close;
		}
	}
	set .@weapon$, ((getequipisequiped(EQI_HAND_R))?getequipname(EQI_HAND_R):"Bare handed");
	set .@pc_hp, 200;
	set .@npc_hp, 200;
	setarray .@skills$[0],"Midsection punch","Headbutt","Wiggle wiggle","Screw punch","Mumble muble";
	mes "The unidentified creature is attacking. What will you do?";
	next;
	while(1) {
		switch(select("Attack with a weapon.:Attack using a skill.:Attack using teeth.:Run away in fear.")) {
		case 1: // Weapon
			set .@p_damage,10;
			set .@pc_attack, rand(1,10);
			mes "["+strcharinfo(0)+"'s Attack]";
			switch(.@pc_attack) {
			// Miss.
			case 3:
				mes "You attempt to attack with your recent expensive purchase ^FF0000["+.@weapon$+"]^000000, but the unidentified creature rapidly dodged.";
				break;
			case 6:
				mes "By mistake, you use ^FF0000["+.@weapon$+"]^000000 that Holgren has thrown your way to attack the unidentified creature, but the creature foresaw the attack and dodged.";
				break;
			case 9:
				mes "You use your precious ^FF0000[+"+.@weapon$+"+]^000000 to attack the unidentified creature, but the creature pulled back and dodged your attack.";
				break;
			// Hit.
			default:
				specialeffect EF_HIT1;
				set .@npc_hp, .@npc_hp - .@p_damage;
				switch(.@pc_attack) {
					case 1: set .@str$,"With your precious ^FF0000["+.@weapon$+"]^000000, you attacked the unidentified creature. The weapon pierced the creature's body."; break;
					case 2: set .@str$,"By mistake, you use ^FF0000["+.@weapon$+"]^000000 that Holgren has thrown your way to attack the unidentified creature. With a thud, the unidentified creature's body is swaying."; break;
					case 4: set .@str$,"You attempt to attack with your recent expensive purchase ^FF0000["+.@weapon$+"]^000000. You hit the unidentified creature's body with a thud."; break;
					case 5: set .@str$,"You use a borrowed ^FF0000["+.@weapon$+"]^000000 to attack the unidentified creature, but the weapon slipped. But the weapon flies off and pierces the creature's body."; break;
					case 7: set .@str$,"With your precious ^FF0000["+.@weapon$+"]^000000, you attacked the unidentified creature. It was as if the weapon was part of your body."; break;
					case 8: set .@str$,"You use your lucky ^FF0000["+.@weapon$+"]^000000 to attack the unidentified creature."; break;
					case 10: set .@str$,"You use a friend's ^FF0000["+.@weapon$+"]^000000 to attack the unidentified creature."; break;
				}
				mes .@str$+" ^FF0000["+.@p_damage+"]^000000 damage inflicted.";
				break;
			}
			next;
			break;
		case 2: // Skill
			set .@p_damage,20;
			set .@pc_attack, rand(1,6);
			set .@skillname$, .@skills$[rand(5)];
			mes "["+strcharinfo(0)+"'s Attack]";
			switch(.@pc_attack) {
			// Miss.
			case 2:
				mes "You use skill ^0000FF["+.@skillname$+"]^000000 but you couldn't concentrate, and failed to use the skill properly.";
				break;
			case 4:
				mes "You use skill ^0000FF["+.@skillname$+"]^000000 with all your might, but the unidentified creature dodged lightly and mocked you.";
				break;
			case 6:
				mes "You use skill ^0000FF["+.@skillname$+"]^000000 to attack the creature, but he got out of sight and you failed to use the skill.";
				break;
			// Hit.
			default:
				specialeffect EF_BASH;
				set .@npc_hp, .@npc_hp - .@p_damage;
				switch(.@pc_attack) {
					case 1: set .@str$, "With an attack so fast and furious, the creature is too stunned to move."; break;
					case 3: set .@str$, "The creature dodged, but you foresaw his movements and targeted accurately."; break;
					case 5: set .@str$, "Your skill flew in a perfect parabola and hit the creature exactly."; break;
				}
				mes "You use skill ^0000FF["+.@skillname$+"]^000000 to attack the unidentified creature. "+.@str$+" ^FF0000["+.@p_damage+"]^000000 damage inflicted.";
				break;
			}
			next;
			break;
		case 3: // Tooth
			set .@p_damage,50;
			set .@pc_attack, rand(1,10);
			mes "["+strcharinfo(0)+"'s Attack]";
			if (.@pc_attack == 4 || .@pc_attack == 7) {
				specialeffect EF_HIT1;
				set .@npc_hp, .@npc_hp - .@p_damage;
				mes "You use your well-groomed teeth to bite the unidentified creature hard until your teeth sink into its flesh. ^FF0000["+.@p_damage+"]^000000 damage inflicted.";
			} else
				mes "You use your steel-like teeth to bite the unidentified creature, but the frightened creature dodged. He stares at you with strange eyes.";
			next;
			break;
		case 4: // Run
			mes "You get scared of the unidentified creature, and attempt to run.";
			next;
			mes "["+strcharinfo(0)+"'s Escape]";
			if (rand(1,2) == 1) {
				mes "Fortunately, the unidentified creature did not come after you.";
				close;
			} else {
				mes "When you attempt to run away, the unidentified creature sees you and attacks. You fail to escape.";
				next;
				specialeffect2 EF_HIT1;
				mes "The creature slams you with its tail. It's so painful that a tear rolls out of your eyes. ^FF000010^000000 damaged received.";
				set .@pc_hp, .@pc_hp - 10;
				next;
				// Unofficial check, but it's needed here.
				callsub L_CheckPCAlive, .@pc_hp;
			}
			break;
		}
		if (.@npc_hp <= 0) {
			mes "You won. The unidentified creature is unconscious.";
			next;
			if (checkquest(5016) > -1 && countitem(6385) == 0) {
				mes "What will you do?";
				next;
				select("Look for the research tools.");
				if (checkweight(6385,1) == 0) {
					mes "You attempted to look for the research tools,";
					mes "but you are carrying too many things.";
					mes "You'd better lighten your load";
					mes "and come back.";
					close2;
					donpcevent "黑色的影子#ep14_muk::OnDisable";
					end;
				}
				mes "Found Researcher Raffle's ^0000FF Research tool ^000000.";
				set ep14_1_goki, ep14_1_goki+1;
				getitem 6385,1; //Research_Tool_Bag
				setquest 5029;
				next;
				mes "The creature wakes up and disappears into the dark hole.";
				close2;
				donpcevent "黑色的影子#ep14_muk::OnDisable";
				end;
			} else if (checkquest(5017) > -1) {
				mes "How will you bully the creature?";
				next;
				input .@inputstr$;
				mes "You do ^0000FF"+.@inputstr$+"^000000 to bully the unidentified creature.";
				next;
				setquest 5029;
				switch(ep14_1_muk) {
				case 3:
					mes "You bully the unidentified creature. This is kind of fun.";
					break;
				case 4:
					mes "You bully the unidentified creature for the second time. It's definitely entertaining.";
					break;
				case 5:
					mes "You bully the unidentified creature for the third time. It's fun, but now it is time to stop.";
					changequest 5017,5018;
					break;
				}
				set ep14_1_muk, ep14_1_muk+1;
				set ep14_1_goki, ep14_1_goki+1;
				close2;
				donpcevent "黑色的影子#ep14_muk::OnDisable";
				end;
			} else {
				mes "What will you do?";
				next;
				if(select("Check the body of the unidentified creature.:Leave.") == 2) {
					setquest 5029;
					set ep14_1_goki, ep14_1_goki+1;
					close2;
					donpcevent "黑色的影子#ep14_muk::OnDisable";
					end;
				}
				if (rand(1,30) == 7) {
					if (checkweight(6380,1) == 0) {
						mes "While you were checking the body of the unidentified creature, your fingers touch something. You got lucky, but due to your heavy load you failed to obtain a ^0000FF Mora Coin^000000.";
						set ep14_1_goki, ep14_1_goki+1;
						setquest 5029;
						close2;
						donpcevent "黑色的影子#ep14_muk::OnDisable";
						end;
					}
					mes "While you were checking the body of the unidentified creature, your fingers touch something. Lucky. Obtained a ^0000FF Mora Coin^000000.";
					set ep14_1_goki, ep14_1_goki+1;
					getitem 6380,1; //Mora_Coin
					setquest 5029;
					next;
					mes "The creature wakes up and disappears into the dark hole.";
				} else {
					mes "As soon as you touch the creature's body, it wakes up and disappears into the dark hole.";
					set ep14_1_goki, ep14_1_goki+1;
					setquest 5029;
				}
				close2;
				donpcevent "黑色的影子#ep14_muk::OnDisable";
				end;
			}
		}
		mes "[ Current Progress ]";
		mes strcharinfo(0)+" HP = "+.@pc_hp;
		mes "Unidentified Creature HP = "+.@npc_hp;
		next;
		mes "[Attack of the unidentified creature]";
		set .@npc_attack, rand(1,3);
		switch(.@npc_attack) {
		case 1:
			set .@n_damage,10;
			mes "The unidentified creature shoots a stream of bath water.";
			break;
		case 2:
			set .@n_damage,20;
			mes "The unidentified creature dashes at you with great speed. It appears to be attempting a headbutt.";
			break;
		case 3:
			set .@n_damage,50;
			mes "The unidentified creature runs at you with its teeth bared. It appears to be attempting to bite.";
			break;
		}
		next;
		mes "What will you do?";
		next;
		switch(select("... ... ...:Dodge.:Block.:It's too much. Run away.")) {
		case 1:
			switch(.@npc_attack) {
			case 1:
				specialeffect2 EF_ICEARROW;
				mes "You stand still. The stream of water hits your face squarely. Your mind is clear in an instant. ^FF0000["+.@n_damage+"]^000000 damage received.";
				break;
			case 2:
				specialeffect2 EF_BASH;
				mes "You stand still. The creature headbutts you squarely. Your mind is clear in an instant. ^FF0000["+.@n_damage+"]^000000 damage received.";
				break;
			case 3:
				specialeffect2 EF_HIT1;
				mes "You stand still. While you were standing stupidly, the creature comes near and bites you mercilessly. Your mind is clear in an instant. ^FF0000["+.@n_damage+"]^000000 damage received.";
				break;
			}
			set .@pc_hp, .@pc_hp - .@n_damage;
			next;
			break;
		case 2:
			switch(.@npc_attack) {
			case 1:
				set .@miss, rand(1,5);
				mes "[Attack of the unidentified creature]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "The unidentified creature shoots a stream of water at you, but you dodge it easily by tilting your body.";
					break;
				case 3:
					mes "The unidentified creature shoots a stream of water at you, but you dodge it while picking your nose.";
					break;
				// Hit.
				default:
					specialeffect2 EF_ICEARROW;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"face"; break;
						case 4: set .@str$,"stomach"; break;
						case 5: set .@str$,"arm"; break;
					}
					mes "The stream of water hits your "+.@str$+" squarely. ^FF0000["+.@n_damage+"]^000000 damage received.";
					break;
				}
				next;
				break;
			case 2:
				set .@miss, rand(1,10);
				mes "[Attack of the unidentified creature]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "The unidentified creature dashes at you attempting a headbutt, but you are not the one to succumb to such an attack.";
					break;
				case 3:
					mes "The unidentified creature dashes at you attempting a headbutt, but you move slightly to dodge the attack.";
					break;
				case 5:
					mes "The unidentified creature dashes at you attempting a headbutt, but you dodge the attack while picking your nose.";
					break;
				case 7:
					mes "The unidentified creature dashes at you attempting a headbutt, but you dodge the attack easily.";
					break;
				// Hit.
				default:
					specialeffect2 EF_BASH;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"With a thud, you can feel intense pain."; break;
						case 4: set .@str$,"*thud* Your back seems to give way."; break;
						case 6: set .@str$,"The creature's attack hits you in the shoulder."; break;
						case 8: set .@str$,"The attack is like an arrow."; break;
						case 9: set .@str$,"The attack was fast and accurate."; break;
						case 10: set .@str$,"It hits your hand with a thud."; break;
					}
					mes "The unidentified creature dashes at you and headbutts. "+.@str$+" ^FF0000["+.@n_damage+"]^000000 damage received.";
					break;
				}
				next;
				break;
			case 3:
				set .@miss, rand(1,10);
				mes "[Attack of the unidentified creature]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack sneering.";
					break;
				case 3:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack by moving slightly.";
					break;
				case 5:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack while stretching.";
					break;
				case 7:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack while counting Zenies.";
					break;
				case 8:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack lightly.";
					break;
				case 9:
					mes "The unidentified creature runs at you with its teeth bared, but you dodge the attack sneering.";
					break;
				// Hit.
				default:
					specialeffect2 EF_HIT1;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"leg. Its sharp teeth penetrate your legs."; break;
						case 4: set .@str$,"arm. Its sharp teeth penetrate your arm."; break;
						case 6: set .@str$,"toe. You feel like your toe is being cut off."; break;
						case 10: set .@str$,"finger. You feel like your finger is being cut off."; break;
					}
					mes "The unidentified creature runs at you with its teeth bared, and bites your "+.@str$+" ^FF0000["+.@n_damage+"]^000000 damage received.";
					break;
				}
				next;
				break;
			}
			break;
		case 3:
			set .@defend, rand(1,10);
			switch(.@npc_attack) {
			case 1:
				if (.@defend == 3 || .@defend == 6) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				} else
					specialeffect2 EF_ICEARROW;
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[Defense of "+strcharinfo(0)+"]";
				switch(.@defend) {
					// Blocked.
					case 3: set .@str$,"You block the stream of water with your strong butt. Feels refreshing. HP reduced only by half."; break;
					case 6: set .@str$,"You block the stream of water with your strong hands. Your hands sting a little. HP reduced only by half."; break;
					// Not blocked.
					case 1: set .@str$,"You try to block the stream of water with your strong butt, but it's too late."; break;
					case 2: set .@str$,"You try to block the stream of water with your big gut, but to no avail."; break;
					case 4: set .@str$,"You try to block the stream of water with your gathered hands, but the creature targets a different place."; break;
					case 5: set .@str$,"You try to block the stream of water with your strong hands, but you fail."; break;
					case 7: set .@str$,"You try to block the stream of water with arms crossed, but you fold them wrong."; break;
					case 8: set .@str$,"You try to block the stream of water with your rock-like head, but it was not possible."; break;
					case 9: set .@str$,"You try to block the stream of water with your solid muscles, but it was not possible."; break;
					case 10: set .@str$,"You try to block the stream of water with your strong feet, but your effort was wasted."; break;
				}
				mes .@str$+" ^FF0000["+.@n_damage+"]^000000 damage received.";
				next;
				break;
			case 2:
				if (.@defend == 1 || .@defend == 3 || .@defend == 5 || .@defend == 7) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				} else
					specialeffect2 EF_BASH;
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[Defense of "+strcharinfo(0)+"]";
				switch(.@defend) {
					// Blocked.
					case 1: set .@str$,"You block the dash attack with your fat butt. Your butt is world class. HP reduced only by half."; break;
					case 3: set .@str$,"You block the dash attack with your big gut. Your gut is world class. HP reduced only by half."; break;
					case 5: set .@str$,"You block the dash attack with your strong hands. Your hands are world class. HP reduced only by half."; break;
					case 7: set .@str$,"The unidentified creature dashed with lightning speed, but you easily block the attack with your big gut. Your gut is world class. HP reduced only by half."; break;
					// Not blocked.
					case 2: set .@str$,"You try to block the dash attack with your fat butt, but miss and get hit in an unmentionable place."; break;
					case 4: set .@str$,"You try to block the dash attack with your big gut, but your gut isn't big enough to absorb the impact."; break;
					case 6: set .@str$,"You try to block the dash attack with arms crossed, but you feel an incredible force."; break;
					case 8: set .@str$,"You try to block the dash attack, to no avail."; break;
					case 9: set .@str$,"You try to block the dash attack with your strong hands, to no avail."; break;
					case 10: set .@str$,"You try to block the dash attack with your durable feet, but the pain woke you up."; break;
				}
				mes .@str$+" ^FF0000["+.@n_damage+"]^000000 damage received.";
				next;
				break;
			case 3:
				if (.@defend == 2 || .@defend == 4 || .@defend == 6 || .@defend == 8) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				}
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[Defense of "+strcharinfo(0)+"]";
				switch(.@defend) {
					// Blocked.
					case 2: set .@str$,"but you block its attack with a branch nearby. HP reduced only by half."; break;
					case 4: set .@str$,"but you block its attack with a weapon. HP reduced only by half."; break;
					case 6: set .@str$,"but you block its attack using skill ^0000FFFriend Shield^000000. HP reduced only by half."; break;
					case 8: set .@str$,"but you block its attack using a book you always carry around. HP reduced only by half."; break;
					// Not blocked.
					case 1: set .@str$,"and bites your arm."; break;
					case 3: set .@str$,"and bites your leg."; break;
					case 5: set .@str$,"and bites your shoulder."; break;
					case 7: set .@str$,"and bites your finger."; break;
					case 9: set .@str$,"and bites your finger."; break;
					case 10: set .@str$,"and bites your toe."; break;
				}
				mes "The unidentified creature runs at you with its teeth bared, "+.@str$+" ^FF0000["+.@n_damage+"]^000000 damage received.";
				next;
				break;
			}
			break;
		case 4:
			mes "You get scared of the unidentified creature, and attempt to run.";
			next;
			mes "["+strcharinfo(0)+"'s Escape]";
			if (rand(1,2) == 1) {
				mes "Fortunately ^BF2C15Unidentified creature^000000";
				mes "did not come after you.";
				close;
			} else {
				mes "When you attempt to run away, the unidentified creature sees you and attacks.";
				mes "You fail to escape.";
				next;
				mes "The creature slams you with its tail. It's so painful that a tear rolls out of your eyes. ^FF000010^000000 damaged received.";
				set .@pc_hp, .@pc_hp - 10;
				next;
			}
			break;
		}
		callsub L_CheckPCAlive, .@pc_hp;
		mes "[ Current Progress ]";
		mes strcharinfo(0)+" HP = "+.@pc_hp;
		mes "Unidentified Creature HP = "+.@npc_hp;
		next;
	}
	end;
L_CheckPCAlive:
	if (getarg(0) <= 0) {
		mes "You lost to the unidentified creature. Your mind goes blank and you faint.";
		next;
		mes "You leave the bath with somebody's help.";
		percentheal -99,0;
		donpcevent "黑色的影子#ep14_muk::OnDisable";
		warp "mora",31,132;
		end;
	}
	return;
OnInit:
	disablenpc "黑色的影子#ep14_muk";
	end;
OnEnable:
	enablenpc "黑色的影子#ep14_muk";
	disablenpc "???#ep14_muk01";
	disablenpc "???#ep14_muk02";
	disablenpc "???#ep14_muk03";
	disablenpc "???#ep14_muk04";
	disablenpc "???#ep14_muk05";
	end;
OnDisable:
	disablenpc "黑色的影子#ep14_muk";
	donpcevent "黑色的影子#ep14_muk::OnFullon";
	mapannounce "mora","您现在可以使用三温暖的神秘力量.",bc_map,"0xFFFF00"; //FW_NORMAL 12 0 0
	end;
OnFullon:
	donpcevent "???#ep14_muk01::OnReset";
	donpcevent "???#ep14_muk02::OnReset";
	donpcevent "???#ep14_muk03::OnReset";
	donpcevent "???#ep14_muk04::OnReset";
	donpcevent "???#ep14_muk05::OnReset";
	end;
}

-	script	???#mora	-1,{
	if (checkquest(5019) > -1) {
		mes "You find an area emitting a distinct aura.";
		mes "You may be able to collect bath water samples.";
		mes "What will you do?";
		next;
		if(select("Collect samples.:Leave.") == 2) {
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(6386) >= 10) {
			mes "You will not need additional samples.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(1092) == 0) {
			mes "To obtain a sample, you need a sample tube.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		mes "Collecting samples.";
		next;
		progressbar "ffff00",3;
		if (!rand(3)) {
			if (checkweight(6386,1) == 0) {
				mes "You have so many items";
				mes "that it is difficult to collect samples.";
				mes "You will have to lighten your load and come back.";
				close2;
				donpcevent strnpcinfo(0)+"::OnDisable";
				end;
			}
			mes "Bath water sample collection complete.";
			delitem 1092,1; //Empty_Cylinder
			getitem 6386,1; //Bathtub_R_Sample
		} else {
			mes "Bath water sample collection failed.";
			percentheal 5,5;
		}
		close2;
		donpcevent strnpcinfo(0)+"::OnDisable";
		end;
	} else if (checkquest(5021) > -1 || checkquest(5022) > -1) {
		if (checkquest(5021) > -1) {
			set .@str$,"tooth";
			set .@item,6387; //Teeth_Sample
		} else {
			set .@str$,"scale";
			set .@item,6388; //Scale_Sample
		}
		mes "Something is shining in the water.";
		mes "You may be able to collect the unidentified creature's "+.@str$+" samples.";
		mes "What do you want to do?";
		next;
		if(select("Look further.:Leave.") == 2) {
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(.@item) >= 10) {
			mes "You will not need additional samples.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		progressbar "ffff00",3;
		if (!rand(3)) {
			if (checkweight(.@item,1) == 0) {
				mes "You have so many items";
				mes "that it is difficult to collect samples.";
				mes "You will have to lighten your load and come back.";
				close;
			}
			mes "Obtained a "+.@str$+" sample";
			mes "of the unidentified creature.";
			getitem .@item,1;
		} else
			mes "You thought you saw it on the ground, but it was an illusion.";
		close2;
		donpcevent strnpcinfo(0)+"::OnDisable";
		end;
	} else {
		mes "???";
		next;
		select("???");
		mes "???";
		close;
	}
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	stopnpctimer;
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnReset:
	if (rand(2))
		donpcevent strnpcinfo(0)+"::OnEnable";
	else
		initnpctimer;
	end;
OnTimer10000:
OnTimer20000:
OnTimer30000:
OnTimer40000:
OnTimer50000:
	if (rand(2)) 
		donpcevent strnpcinfo(0)+"::OnEnable";
	end;
OnTimer60000:
	donpcevent strnpcinfo(0)+"::OnEnable";
	end;
OnTouch:
	if (checkquest(5034) == 2 || ep14_1_muk == 0 || rand(5)) {
		percentheal 5,5;
		end;
	}
	set .@playtime, checkquest(5029,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		percentheal 5,5;
		end;
	} else if (.@playtime == 2) {
		erasequest 5029;
		end;
	} else {
		mapannounce "mora","无法再使用三温暖的神奇效果.",bc_map,"0xFFFF00"; //FW_NORMAL 12 0 0
		mes "^FF0000有什么东西出现了.^000000";
		mes "^FFFF00无法再使用三温暖的神奇效果.^000000";
		close2;
		donpcevent "黑色的影子#ep14_muk::OnEnable";
		end;
	}
}
mora,108,86,0	duplicate(???#mora)	???#ep14_muk01	CLEAR_NPC,2,2
mora,107,82,0	duplicate(???#mora)	???#ep14_muk02	CLEAR_NPC,2,2
mora,113,84,0	duplicate(???#mora)	???#ep14_muk03	CLEAR_NPC,2,2
mora,116,81,0	duplicate(???#mora)	???#ep14_muk04	CLEAR_NPC,2,2
mora,118,86,0	duplicate(???#mora)	???#ep14_muk05	CLEAR_NPC,2,2

-	script	#mora_puddle	-1,{
	set .@i, atoi(charat(strnpcinfo(2),9));

	// This script has a lot of checks,
	// so arrays are only set when used.
	setarray .@quest1[1],5024,5025,5026,5027;
	setarray .@dir$[1],"east","west","south","north";

	if (checkquest(.@quest1[.@i]) > -1) {
		if (countitem(6389) == 0) {
			mes "This appears to be the puddle to the "+.@dir$[.@i];
			mes "that the researcher talked about.";
			mes "Will you collect a sample?";
			next;
			if(select("Collect a sample.:Don't collect a sample.") == 2)
				close;
			if (countitem(1092) == 0) {
				mes "You have no empty sample tubes.";
				close;
			}
			progressbar "ffff00",5;
			if (checkweight(6389,1) == 0) {
				mes "You have so many items";
				mes "that it is difficult to collect samples.";
				mes "You will have to lighten your load and come back.";
				close;
			}
			mes "You have collected a sample from the puddle to the "+.@dir$[.@i]+".";
			delitem 1092,1; //Empty_Cylinder
			getitem 6389,1; //Puddle_R_Sample
			close;
		} else {
			mes "You already have a sample.";
			close;
		}
	}

	set .@quest1[0], .@quest1[.@i];
	set .@dir$[0], .@dir$[.@i];
	deletearray .@quest1[.@i],1;
	deletearray .@dir$[.@i],1;

	if (checkquest(.@quest1[1]) > -1 || checkquest(.@quest1[2]) > -1 || checkquest(.@quest1[3]) > -1) {
		for(set .@j,1; .@j<=3; set .@j,.@j+1) {
			if (checkquest(.@quest1[.@j]) > -1)
				break;
		}
		mes "This is not the puddle to the "+.@dir$[.@j]+".";
		close;
	}

	setarray .@quest2[1],5030,5031,5032,5033;
	set .@quest2[0], .@quest2[.@i];
	deletearray .@quest2[.@i],1;

	if (ep14_1_goki == 30 && checkquest(.@quest2[0]) > -1) {
		mes "You arrived at the puddle to the "+.@dir$[0]+".";
		mes "You should look for the unidentified creature's family.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Fish~ Fish~";
		next;
		mes "When you called out, an answer came";
		mes "from the puddle.";
		next;
		mes "[???]";
		mes "Who? Fisher? Go!";
		next;
		select("I'm looking for a particular fish's family.");
		mes "[???]";
		mes "Family? What be that fish name?";
		next;
		mes "What was the name of the unidentified creature?";
		next;
		input .@inputstr$;
		if (.@inputstr$ != "Fishee") {
			mes "[???]";
			mes "No Family. "+.@inputstr$+" No.";
			mes "You go.";
			next;
			mes "It appears that the unidentified creature's family is not here.";
			close;
		}
		mes "[???]";
		mes .@inputstr$+"? Oh... How...";
		mes "Husband here come. Your son.";
		mes "News here.";
		next;
		mes "Another creature from the puddle spoke to you.";
		next;
		mes "[????]";
		mes "What? Missing son news?";
		next;
		mes "The two fish were very excited,";
		mes "and their conversation was hard to follow.";
		mes "You waited for them to calm down";
		mes "and told them the full story.";
		next;
		mes "[Fishee's Dad]";
		mes "Yes... At night, son";
		mes "gone... Night fishers.";
		mes "Son stupid. Caught. Dead. OK.";
		next;
		mes "[Fishee's Mom]";
		mes "Fishee alive. Great. Great.";
		next;
		mes "[Fishee's Dad]";
		mes "Yes... Human give son news.";
		mes "Thanks. Son,";
		mes "We okay. Happy. Here. You tell son.";
		changequest .@quest2[0],5034;
		close;
	} else if (checkquest(5034) > -1 && checkquest(5034) < 2) {
		mes "[Fishee's Dad]";
		mes "Yes... Human give son news.";
		mes "Thanks. Son,";
		mes "We okay. Happy. Here. You tell son.";
		close;
	} else if (checkquest(.@quest2[1]) > -1 || checkquest(.@quest2[2]) > -1 || checkquest(.@quest2[3]) > -1) {
		mes "You arrived at the puddle to the "+.@dir$[0]+".";
		mes "You should look for the unidentified creature's family.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Fish~ Fish~";
		next;
		mes "You yelled out loud for fish,";
		mes "but there is no response.";
		mes "I don't think anybody lives";
		mes "in this puddle.";
		close;
	}
	mes "You see a puddle with a calm surface.";
	close;
}
bif_fild02,315,285,0	duplicate(#mora_puddle)	Puddle#ep14_muk01	CLEAR_NPC
bif_fild02,65,109,0	duplicate(#mora_puddle)	Puddle#ep14_muk02	CLEAR_NPC
bif_fild02,223,71,0	duplicate(#mora_puddle)	Puddle#ep14_muk03	CLEAR_NPC
bif_fild02,113,340,0	duplicate(#mora_puddle)	Puddle#ep14_muk04	CLEAR_NPC

// Mora Daily Quests :: ep14_1_dealer
//============================================================
mora,133,80,6	script	艾利芬#pa0829	4_ELEPHANT,{
	if (checkweight(1201,1) == 0) {
		mes "You have too many kinds of things with you to do that. Throw out some of them and try again.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "You are carrying too much weight to do that. Reduce the weight and try again.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[艾利芬]";
		mes "Hmm, you don't look reliable enough to perform tasks for me.";
		close;
	}
	if (BaseLevel < 135) {
		mes "[艾利芬]";
		mes "Why don't you come back when you've grown stronger? I can't give you tasks when you're in your current state.";
		close;
	}
	set .@playtime, checkquest(12230,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[艾利芬]";
		mes "I have no additional tasks available now. If I get some, I'll let you know when you come back.";
		close;
	} else if (.@playtime == 2) {
		mes "[艾利芬]";
		mes "Will you please check with ^990099Hotcha^000000";
		mes "on the details of the previous task?";
		close;
	}
	mes "[艾利芬]";
	mes "Welcome.";
	mes "I have some tasks for you - will you take a look at them?";
	next;
	if(select("What kind of tasks do you have for me?:Tell me about today's task.") == 1) {
		mes "[艾利芬]";
		mes "I'm the Head of the Volunteer Patrol of the Village of Mora. It didn't used to be like this, he he.";
		next;
		mes "[艾利芬]";
		mes "Each day, I'll be giving you a quest to kill off monsters in the surrounding area.";
		next;
		mes "[艾利芬]";
		mes "You might get a task that's far too difficult for you to take care of alone - in that case, try to get help from your fellow adventurers.";
		close;
	}
	mes "[艾利芬]";
	mes "Let me see what tasks we've got today... Hmm...";
	next;
	mes "[艾利芬]";
	mes "How about this one?";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12225;
		setquest 12230;
		mes "[艾利芬]";
		mes "Strange insects that carry fruit on their backs roam this area - you must've seen them.";
		next;
		mes "[艾利芬]";
		mes "I'd like you to take them out as you see them, before they try to sell anything to the adventurers lost in the forest.";
		set .@n$,"Fruit-Carrying Insects";
		break;
	case 2:
		setquest 12226;
		setquest 12230;
		mes "[艾利芬]";
		mes "There have been a lot of reports lately about mantises disguised as flowers attacking creatures passing by.";
		next;
		mes "[艾利芬]";
		mes "No casualties have been reported yet, but it wouldn't hurt to take precautions. Please deal with them appropriately.";
		set .@n$,"Flowery Hunters";
		break;
	case 3:
		setquest 12227;
		setquest 12230;
		mes "[艾利芬]";
		mes "An adventurer was reported to have been attacked by little birds while gathering resources in the vicinity of Bifrost.";
		next;
		mes "[艾利芬]";
		mes "They didn't look so ferocious... but the adventurer has asked me to get rid of them, so you'll have to do it.";
		set .@n$,"Small but Ferocious...";
		break;
	case 4:
		setquest 12228;
		setquest 12230;
		mes "[艾利芬]";
		mes "I have qualms about this one, but somebody anonymously asked me to hunt down the naughty fairies.";
		next;
		mes "[艾利芬]";
		mes "I don't know what grudge he has against the fairies, but a request is a request.";
		set .@n$,"An Unknown Grudge";
		break;
	case 5:
		setquest 12229;
		setquest 12230;
		mes "[艾利芬]";
		mes "Would you believe it if I said there are balls of blonde hair rolling around? You wouldn't, would you?";
		next;
		mes "[艾利芬]";
		mes "They don't seem so dangerous, but they are reported to steal books and sweets from adventurers. Please deal with them appropriately.";
		set .@n$,"Blondie Ann";
		break;
	}
	next;
	mes "You have received the task ^005500"+.@n$+"^000000. Open and see the quest window for the details.";
	close;
}

mora,115,98,8	script	热茶#pa0829	4_ELEPHANT,{
	if (checkweight(1201,1) == 0) {
		mes "You have too many kinds of things with you to do that. Throw out some of them and try again.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "You are carrying too much Weight to do that. Reduce the Weight and try again.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[热茶]";
		mes "Hmm, you don't look reliable enough for Elephantine's tasks.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[热茶]";
		mes "This place is like a paradise for adventurers. Not for weak ones like you, though.";
		close;
	}
	set .@playtime, checkquest(12230,PLAYTIME);
	if (.@playtime == -1) {
		mes "[热茶]";
		mes "I see you haven't received";
		mes "any tasks yet.";
		mes "Go talk to Elephantine,";
		mes "and Elephantine will give you";
		mes "one of the countless tasks.";
		close;
	} else if (.@playtime == 2) {
		mes "[热茶]";
		mes "The time is up to complete the existing tasks.";
		next;
		mes "[热茶]";
		mes "If you have any unfinished tasks in your quest log, they are considered 'failed' and removed from the log.";
		next;
		mes "[热茶]";
		mes "Once they are removed, go talk to Elephantine and you can receive new tasks.";
		for(set .@i,12225; .@i<=12229; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12230;
		close;
	}
	mes "[热茶]";
	mes "欢迎.";
	mes "How may I help you?";
	next;
	select("I have completed a task.");
	mes "Oh.";
	mes "Have you?";
	mes "Please wait a minute while I check the documents.";
	next;

	for(set .@i,12225; .@i<=12229; set .@i,.@i+1) {
		if (checkquest(.@i,HUNTING) == 2) {
			mes "[热茶]";
			mes "Yes, I see you've completed the task. It has been confirmed as completed.";
			erasequest .@i;
			specialeffect2 EF_STEAL;
			if (BaseLevel > 99)
				getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
			else
				getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
			getitem 6380,3; //Mora_Coin
			close;
		}
	}

	mes "[热茶]";
	mes "唔... "+strcharinfo(0)+".";
	mes "可能我的文件记录有点问题, 但根据文件, 你没有任何任务.";
	close;
}

mora,119,103,4	script	汪汪#pa0829	4_M_DOGTRAVELER,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[汪汪]";
		mes "我试着给可靠的人的任务. 你是.........没有, 从来没有介意.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[汪汪]";
		mes "真的不知道. 这样虚弱的身体, 你能做什么?";
		close;
	}
	set .@playtime, checkquest(12241,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[汪汪]";
		mes "我现在手上的任务都安排完了. 下次你再来的时候, 如果手上有任务我会安排给你的.";
		close;
	} else if (.@playtime == 2) {
		mes "[汪汪]";
		mes "你去让 ^990099普通日用品商人^000000";
		mes "检查所有的任务细节?";
		close;
	}
	mes "[汪汪]";
	mes "很高兴见到你.";
	mes "我有些任务需求 - 你要不要看看?";
	next;
	if(select("- 你安排了些什么样的任务给我?:- 告诉我今天的任务.") == 1) {
		mes "[汪汪]";
		mes "在这里, 我们做冒险家的各式日用品.";
		next;
		mes "[汪汪]";
		mes "我们接受每天一次的耗材原料采购.";
		next;
		mes "[汪汪]";
		mes "有时候我们可能会要一些很难搞到的材料, 这时候你可以向其他的冒险者求助.";
		close;
	}
	mes "[汪汪]";
	mes "让我看看... 今天的需求是...?";
	next;
	mes "[汪汪]";
	mes "这个怎么样?";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12231;
		setquest 12241;
		mes "[汪汪]";
		mes "这里的冒险家在出发去迷宫探险前, 必须拿到要洒在紧急粮食上的防腐剂, 你知道防腐剂的制作材料是什么吗?";
		next;
		mes "[汪汪]";
		mes "*grin* 就是昆虫触角喔! 普通日用品商人刚好要4个! 要是我才不吃这种东西呢...";
		set .@n$,"防腐剂的材料";
		break;
	case 2:
		setquest 12232;
		setquest 12241;
		mes "[汪汪]";
		mes "最近, 这里的冒险家喜欢制作符咒确保自身安全, 也算是一种保险吧.";
		next;
		mes "[汪汪]";
		mes "最近不死心脏好想很受欢迎呢. 普通日用品商人要5个左右.";
		set .@n$,"抵抗的象征";
		break;
	case 3:
		setquest 12233;
		setquest 12241;
		mes "[汪汪]";
		mes "现在需要很多急救专用绷带的材料腐烂绷带, 好像没有制作新绷带的材料.";
		next;
		mes "[汪汪]";
		mes "委托人是站在那边的普通日用品商人, 找来3捆左右就好!";
		set .@n$,"急救组的材料";
		break;
	case 4:
		setquest 12234;
		setquest 12241;
		mes "[汪汪]";
		mes "勇猛战士的标志给予冒险家的旅程很大的力量, 所以兽人战士之证才能买得这么好吧.";
		next;
		mes "[汪汪]";
		mes "普通日用品商人想要制作勇猛的象征的材料兽人战士之证3个.";
		set .@n$,"勇猛的象征";
		break;
	case 5:
		setquest 12235;
		setquest 12241;
		mes "[汪汪]";
		mes "将骨头粉末参水喝下对精气很好的消息在冒险家之间传得沸沸扬扬的.";
		next;
		mes "[汪汪]";
		mes "普通日用品商人要求制作强身剂所需的死人遗骨3个.";
		set .@n$,"对精气很好的...";
		break;
	}
	next;
	mes "你收到了任务请求 ^880088"+.@n$+"^000000. 打开任务日志查询详情.";
	close;
}

mora,119,118,4	script	普通日用品商人#pa0	4_M_RAFLE_GR,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[普通日用品商人]";
		mes "嗯, 看上去你无法完成汪汪委托给你的任务.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[普通日用品商人]";
		mes "如此脆弱的身体, 你还是去锻炼下再来吧.";
		close;
	}
	set .@playtime, checkquest(12241,PLAYTIME);
	if (.@playtime == -1) {
		mes "[普通日用品商人]";
		mes "看上去你还没有";
		mes "接下任何任务.";
		mes "去找沃夫谈谈,";
		mes "他会挑选一个";
		mes "任务给你做的.";
		close;
	} else if (.@playtime == 2) {
		mes "[普通日用品商人]";
		mes "任务的时效超过了.";
		next;
		mes "[普通日用品商人]";
		mes "如果你的任务日志里还有未完成的任务, 呢么将会被认定为'失败', 并从任务日志中删除.";
		next;
		mes "[普通日用品商人]";
		mes "一旦过期的任务被删除. 你可以再去找汪汪, 他会给你新的任务.";
		for(set .@i,12231; .@i<=12235; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12241;
		close;
	}
	mes "[普通日用品商人]";
	mes "欢迎.";
	mes "需要帮忙吗?";
	next;
	select("I have completed a task.");
	mes "[普通日用品商人]";
	mes "噢.";
	mes "是吗?";
	mes "请稍等, 我检查一下.";
	next;

	callsub L_CheckQuest,12231,928,4; //Insect_Feeler
	callsub L_CheckQuest,12232,929,5; //Immortal_Heart
	callsub L_CheckQuest,12233,930,1; //Rotten_Bandage
	callsub L_CheckQuest,12234,931,3; //Orcish_Voucher
	callsub L_CheckQuest,12235,932,3; //Skel_Bone

	mes "[普通日用品商人]";
	mes "嗯... "+strcharinfo(0)+".";
	mes "看上去文档有错误, 根据文件记录, 你并没有做任何与任务有关的事情.";
	close;

L_CheckQuest:
	if (checkquest(getarg(0)) > -1) {
		if (countitem(getarg(1)) < getarg(2)) {
			mes "[普通日用品商人]";
			mes "数量不够...";
			close;
		}
		mes "[普通日用品商人]";
		mes "我已经收到了全部的任务物品, 期待与您下次继续合作.";
		delitem getarg(1),getarg(2);
		erasequest getarg(0);
		specialeffect2 EF_STEAL;
		if (BaseLevel > 99)
			getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
		else
			getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
		getitem 6380,1; //Mora_Coin
		close;
	}
	return;
}

mora,124,108,7	script	沃夫#pa0829	4_M_DOGTRAVELER2,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[沃夫]";
		mes "你能不能离我远点, 你挡着我的路了.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[沃夫]";
		mes "这里可不是幼稚园, 等你再强壮些后再来找我, 我会很乐意给你安排一些任务.";
		close;
	}
	set .@playtime, checkquest(12242,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[沃夫]";
		mes "我现在手上的任务都安排完了. 下次你再来的时候, 如果手上有任务我会安排给你的.";
		close;
	} else if (.@playtime == 2) {
		mes "[沃夫]";
		mes "你让我对面的 ^990099物品交易商人^000000, 检查一下吧,";
		mes "检查所有的任务细节?";
		close;
	}
	mes "[沃夫]";
	mes "很高兴见到你.";
	mes "我有些任务需求 - 你要不要看看?";
	next;
	if(select("- 你安排了些什么样的任务给我?:- 告诉我今天的任务.") == 1) {
		mes "[沃夫]";
		mes "汪汪和我是同行.";
		next;
		mes "[沃夫]";
		mes "我们是一家生产的探险用品的公司.";
		next;
		mes "[沃夫]";
		mes "我的任务不会很简单 - 你需要做好思想准备.";
		close;
	}
	mes "[沃夫]";
	mes "嗯... 今天的任务是?";
	next;
	mes "[沃夫]";
	mes "噢. 有一个看起来不错.";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12236;
		setquest 12242;
		mes "[沃夫]";
		mes "很多人喜欢在脖子上带各式挂件护身符, 不过也有很多人喜欢用特殊的方式装到身体上面.";
		next;
		mes "[沃夫]";
		mes "装饰品设计师们突发了一种灵感. 物品交易商人告诉我他们需要2个亡者遗物.";
		set .@n$,"符咒的最新流行";
		break;
	case 2:
		setquest 12237;
		setquest 12242;
		mes "[沃夫]";
		mes "冒险者, 因为护身符可以挽救他们的生命, 所以一定要安全的把它们带回来.";
		next;
		mes "[沃夫]";
		mes "在我对面那个好像在乌龟壳里面的物品交易商人. 要求我们带回3个坚硬外壳.";
		set .@n$,"贵重物品小心轻放";
		break;
	case 3:
		setquest 12238;
		setquest 12242;
		mes "[沃夫]";
		mes "冒险家们总系喜欢穿着护膝进入迷雾森林的灌木丛中.";
		next;
		mes "[沃夫]";
		mes "我对面的物品交易商人要我帮他搞3个鳞片皮肤, 这些都是可以用来制作护膝.";
		set .@n$,"护膝带的材料";
		break;
	case 4:
		setquest 12239;
		setquest 12242;
		mes "[沃夫]";
		mes "我需要你帮我做一件事, 收集制作疫苗的毒物.";
		next;
		mes "[沃夫]";
		mes "我对面的物品交易商人要我帮他搞定2颗毒牙, 用以对毒成分进行研究.";
		set .@n$,"以毒攻毒...";
		break;
	case 5:
		setquest 12240;
		setquest 12242;
		mes "[沃夫]";
		mes "他们似乎已经用完防止脚底打滑的材料了.";
		next;
		mes "[沃夫]";
		mes "我对面的物品交易商人要求我帮他找5个粘稠液体.";
		set .@n$,"不能滑倒";
		break;
	}
	next;
	mes "你收到了任务请求 ^880088"+.@n$+"^000000. 打开任务日志查询详情.";
	close;
}

mora,127,112,4	script	物品交易商人#pa08	4_F_RAFLE_PK,{
	if (checkweight(1201,1) == 0) {
		mes "你携带的物品种类太多了, 请处理一下再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理一下再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[物品交易商人]";
		mes "好吧, 哇呀绝对不能再给你这样的弱者任何任务了!";
		close;
	}
	if (BaseLevel < 97) {
		mes "[物品交易商人]";
		mes "滚开! 别像只苍蝇一样在我身边转...";
		close;
	}
	set .@playtime, checkquest(12242,PLAYTIME);
	if (.@playtime == -1) {
		mes "[物品交易商人]";
		mes "看上去你还没有";
		mes "接下任何任务.";
		mes "去找沃夫谈谈,";
		mes "他会挑选一个";
		mes "任务给你做的.";
		close;
	} else if (.@playtime == 2) {
		mes "[物品交易商人]";
		mes "任务的时效超过了.";
		next;
		mes "[物品交易商人]";
		mes "如果你的任务日志里还有未完成的任务, 呢么将会被认定为'失败', 并从任务日志中删除.";
		next;
		mes "[物品交易商人]";
		mes "一旦过期的任务被删除. 你可以再去找沃夫, 他会给你新的任务.";
		for(set .@i,12236; .@i<=12240; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12242;
		close;
	}
	mes "[物品交易商人]";
	mes "欢迎.";
	mes "需要帮忙吗?";
	next;
	select("- 我完成了一个任务.");
	mes "[物品交易商人]";
	mes "噢.";
	mes "是吗?";
	mes "请稍等, 我检查一下.";
	next;

	callsub L_CheckQuest,12236,934,2; //Mementos
	callsub L_CheckQuest,12237,935,3; //Shell
	callsub L_CheckQuest,12238,936,3; //Scales_Shell
	callsub L_CheckQuest,12239,937,2; //Posionous_Canine
	callsub L_CheckQuest,12240,938,5; //Sticky_Mucus

	mes "[物品交易商人]";
	mes "嗯... "+strcharinfo(0)+".";
	mes "看上去文档有错误, 根据文件记录, 你并没有做任何与任务有关的事情.";
	close;

L_CheckQuest:
	if (checkquest(getarg(0)) > -1) {
		if (countitem(getarg(1)) < getarg(2)) {
			mes "[物品交易商人]";
			mes "数量不够...";
			close;
		}
		mes "[物品交易商人]";
		mes "我已经收到了全部的任务物品, 期待与您下次继续合作.";
		delitem getarg(1),getarg(2);
		erasequest getarg(0);
		specialeffect2 EF_STEAL;
		if (BaseLevel > 99)
			getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
		else
			getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
		getitem 6380,1; //Mora_Coin
		close;
	}
	return;
}

mora,170,101,4	script	灵魂指引者#pa0829	4_F_DOGTRAVELER,{
	if (checkweight(1201,1) == 0) {
		mes "你带的物品种类太多了. 请清理一下再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够. 请清理一下再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[灵魂指引者]";
		mes "我需要寻找迷失的灵魂. 可靠的帮手是最重要的, 不过你看起来不那么可靠.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[灵魂指引者]";
		mes "我需要一个精神力强大的人来帮我完成这个任务, 不过看上去你应该符合要求.";
		close;
	}
	set .@playtime, checkquest(12253,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "在你的身体上仍然萦绕灵魂的标记(任务CD中).";
		next;
		mes "等它消失了, 你再回来吧.";
		close;
	} else if (.@playtime == 2) {
		mes "你觉得你的心平静下来. 现在有足够的精力去搜寻其他的灵魂, 因此你再度和灵魂指引者对话.";
		for(set .@i,12243; .@i<=12252; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12253;
		close;
	}
	mes "[灵魂指引者]";
	mes "欢迎.";
	mes "准备好了吗?";
	next;
	if(select("- 你准备给我什么样的任务?:- 告诉我今天的任务.") == 1) {
		mes "[灵魂指引者]";
		mes "我的工作是收集仍然困扰着森林的灵魂, 并让他们安息.";
		next;
		mes "[灵魂指引者]";
		mes "有无数的的灵魂被困在森林迷宫中.";
		next;
		mes "[灵魂指引者]";
		mes "帮助他们让他们彻底的安息.";
		close;
	}
	mes "[灵魂指引者]";
	mes "我会告诉你其中一个迷失的灵魂的详细信息.";
	next;
	switch(rand(1,10)) {
	case 1:
		setquest 12243;
		setquest 12253;
		mes "^660066年龄 32. 来自米德加德. 已经失踪3个月. 为了收集原生植物, 他多次进入迷雾森林迷宫. 生存机会低.^000000";
		set .@n$,"达查勒";
		break;
	case 2:
		setquest 12244;
		setquest 12253;
		mes "^660066年龄 19. 从不知名的远方座船而来的冒险家. 尽管所有莫拉居民的劝阻, 他还是坚持去探索迷宫. 他穿着超薄紧身衣. 已失踪2个月.";
		mes "如果他还活着, 他会给救援队伍带来麻烦.^000000";
		set .@n$,"纳伊查";
		break;
	case 3:
		setquest 12245;
		setquest 12253;
		mes "^660066年龄未知. 有一些心理疾病, 独自前往, 净化朦胧的森林迷宫. 他坚持认为, 他有很好的血统, 但没有人相信他.";
		mes "失踪期间: 12年. 没有太多的生存机会.^000000";
		set .@n$,"梅斯";
		break;
	case 4:
		setquest 12246;
		setquest 12253;
		mes "^660066年龄 51. 是一个大盗, 曾经偷窃了来自世界各地的名剑.";
		mes "在迷宫中正在开展运行非法赌场, 在他最后的几天里, 他的场所内发生械斗造成大量伤亡. 生存机会低.^000000";
		set .@n$,"诺瓦讷伊";
		break;
	case 5:
		setquest 12247;
		setquest 12253;
		mes "^660066年龄 22. 飞艇驾驶员学徒. 他在莫拉村休假期间的一次酒后失踪.";
		mes "有传言说, 他逃到他国与他国签约. 失踪时长: 4个月的. 生存机会低.^000000";
		set .@n$,"绒绒";
		break;
	case 6:
		setquest 12248;
		setquest 12253;
		mes "^660066年龄未知. 长发女子, 黑色着装. 进入森林迷宫探险去寻找永生的方法. 失踪时长: 3个月. 生存机会低.^000000";
		set .@n$,"梦特";
		break;
	case 7:
		setquest 12249;
		setquest 12253;
		mes "^660066年龄约 50. 目前为莫拉村行政长官. 他被不法分子绑架进入森林. 不确定生存.^000000";
		set .@n$,"马伊比德";
		break;
	case 8:
		setquest 12250;
		setquest 12253;
		mes "^660066年龄 29. 一个未知的背景的年轻男子.";
		mes "通过各种坑蒙拐骗方式, 骗得莫拉村民一共1200个莫拉硬币后, 逃入迷雾森林. 不确定生存.^000000";
		set .@n$,"昆蒙";
		break;
	case 9:
		setquest 12251;
		setquest 12253;
		mes "^660066年龄 34. 与数个莫拉村妇人有染. 从莫拉村出逃并进入森林. 不确定生存.^000000";
		set .@n$,"查伊豪金";
		break;
	case 10:
		setquest 12252;
		setquest 12253;
		mes "^660066年龄未知. 与村民合股的莫拉硬币一同消失. 生还概率低.^000000";
		set .@n$,"德尔";
		break;
	}
	next;
	mes "^990099失踪者的情报中的 "+.@n$+"^000000 已经找到. 请检查您的任务窗口获取进一步信息.";
	specialeffect2 EF_STEAL;
	close;
}

mora,131,165,7	script	徘徊的客人#pa082	520,{
	mes "[徘徊的客人]";
	mes "我不知道是否应该相信这种艺术品商人...他竟然让我在这里连续等了几天....啊......我头晕.";
	close;
}

mora,125,174,2	script	天真的顾客#pa0829	520,{
	mes "[天真的顾客]";
	mes "我不知道我的吊坠雕刻什么时候才会完成. 不过我觉得他是一个可靠的艺术品商人, 我想他不会弄坏我的吊坠.";
	close;
}

mora,104,172,7	script	受害者#pa0829	4_F_MORAFINE1,{
	mes "[受害者]";
	mes "你这个混蛋! 我那件耐用的外衣!是我父亲传给我的 *哭泣*";
	next;
	mes "^990099 似乎艺术品商人极大的伤害了他.^000000";
	close;
}

sec_in02,29,34,5	script	Initializing Mora Sanjo	4_MAN_NITT,{
	callfunc "F_GM_NPC";
	mes "Enter your password";
	if (callfunc("F_GM_NPC","1854",1) == 0) {
		mes "Hehe";
		close;
	} else {
		mes "[Initialization]";
		mes "14.1 Initializing all quest window include related daily quest and map and so on";
		freeloop(1);
		for(set .@i,12225; .@i<=12353; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		freeloop(0);
		set ep14_1_mistwoods,10;
		close;
	}
}

// Mora Daily Quests - Souls :: md_cadaver_in
//============================================================
// callfunc "mora_remains",<quest ID>,<NPC name>,<Mora Coin amount>,<reward ID>,<max reward amount>;
function	script	mora_remains	{
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够.";
		close;
	}
	if (checkquest(getarg(0)) > -1) {
		specialeffect2 EF_BLIND;
		specialeffect2 EF_BEGINSPELL;
		progressbar "ffff00",4;
		erasequest getarg(0);
		mes "这些必须 ["+getarg(1)+"] 们的遗骸. 所以仔细收集他的遗体.";
		specialeffect2 EF_STEAL;
		getitem getarg(3), rand(1,getarg(4));
		if (rand(10)) {
			next;
			mes "你捡起了 "+getarg(2)+" 莫拉硬币, 并走向下一具遗骸.";
			specialeffect2 EF_STEAL;
			getitem 6380,getarg(2); //Mora_Coin
		}
		close;
	}
	mes "你看看最近挖掘的痕迹.";
	close;
}
1@mist,132,100,0	script	达查勒的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12243,"达查勒",6,526,3; }	//Royal_Jelly
1@mist,102,242,0	script	纳伊查的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12244,"纳伊查",5,942,17; }	//Yoyo_Tail
1@mist,145,245,0	script	梅斯的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12245,"梅斯",5,943,4; }	//Solid_Shell
1@mist,196,276,0	script	诺瓦讷伊的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12246,"诺瓦讷伊",6,549,3; }	//Nice_Sweet_Potato
1@mist,304,327,0	script	绒绒的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12247,"绒绒",5,945,18; }	//Raccoon_Leaf
1@mist,334,287,0	script	梦特的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12248,"梦特",7,946,31; }	//Snail's_Shell
1@mist,330,177,0	script	马伊比德的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12249,"马伊比德",5,7008,17; }	//Stiff_Horn
1@mist,284,84,0	script	昆蒙的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12250,"昆蒙",4,6380,20; }	//Mora_Coin
1@mist,170,54,0	script	查伊豪金的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12251,"查伊豪金",2,929,5; }	//Immortal_Heart
1@mist,118,43,0	script	德尔的遗骸#33	CLEAR_NPC,{ callfunc "mora_remains",12252,"德尔",3,6380,20; }	//Mora_Coin

// Knights of the Neighborhood :: ep14_1_mora_knight
//============================================================
mora,118,166,6	script	骑士队长#mo	4_F_RAFLE_VI,{
	mes "[骑士队长的指示]";
	mes "We are the legendary order of the Neighborhood Knights, founded just five minutes ago!";
	next;
	mes "[Order of the Knights Chief]";
	mes "We have four chiefs but no foot soldiers...";
	mes "It's so frustrating!";
	next;
	mes "[Other Leaders]";
	mes "Those other guys are all soldiers, but I'm the Boss!";
	mes "I, the Head, will tell you what to do!";
	mes "The Leader is the highest in the rank!";
	mes "You talked me into joining the order, and now look at this!";
	close;
}

mora,116,165,5	script	骑士老大#mo	4_M_RAFLE_VI,{
	set .@playtime, checkquest(1119,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[Order of the Knights Boss]";
		mes "We've run out of Mora Coins.";
		mes "Come back tomorrow!";
		close;
	} else if (.@playtime == 2)
		erasequest 1119;
	if (checkweight(6380,1) == 0) {
		mes "[Order of the Knights Boss]";
		mes "You have a lot of things with you!";
		mes "Why not dump some of them in my pocket?";
		close;
	}
	if (countitem(12561) >= 200) {
		mes "[Order of the Knights Boss]";
		mes "So you've brought back";
		mes "200 ^FF0000Mysterious Seeds^000000.";
		mes "Are you working under my command?";
		mes "I'm so confused";
		mes "because I've been sending random people on errands.";
		next;
		mes "[Order of the Knights Boss]";
		mes "I'll reward you as I promised.";
		mes "You made sure everyone knows";
		mes "it's the Order of the Neighborhood Knights's work, right?";
		setquest 1119;
		delitem 12561,200; //Mysterious_Seed
		getitem 6380,1; //Mora_Coin
		close;
	}
	mes "[Order of the Knights Boss]";
	mes "You have courage to";
	mes "show up out of nowhere";
	mes "and demand Mora Coins... how impressive!";
	mes "You're more than qualified to be a soldier of the Order of the Neighborhood Knights.";
	next;
	mes "[Order of the Knights Boss]";
	mes "Soldier, I need you to do something for me.";
	mes "Go to the Hazy Forest and gather 200 ^FF0000Mysterious Seeds^000000!";
	next;
	switch(select("Yes, sir!:I challenge you to a duel!")) {
	case 1:
		mes "[Order of the Knights Boss]";
		mes "Good attitude, "+strcharinfo(0)+" Soldier!";
		mes "I'll reward you handsomely when you get back.";
		next;
		mes "[Other Bosses]";
		mes "This is from me, the Chief!";
		mes "Don't look down on the Head!";
		mes "It's from me, the Leader!";
		close;
	case 2:
		mes "[Order of the Knights Boss]";
		mes "See the Chief if you want to have a duel!";
		mes "I'm in charge of recruiting here.";
		mes "Ahem...";
		close;
	}
}

mora,114,163,5	script	骑士首领#mo	4_M_RAFLE_OR,{
	if (checkweight(6380,1) == 0) {
		mes "[Order of the Knights Head]";
		mes "You have a lot of things with you!";
		mes "Why not dump some of them in my pocket?";
		close;
	}
	if (ep14_1_rope < 11) {
		mes "[Order of the Knights Head]";
		mes "I hear that a Laphine called 'Lope'";
		mes "went missing in the Hazy Forest.";
		mes "I wish the Order of the Neighborhood Knights";
		next;
		mes "[Order of the Knights Head]";
		mes "could help solve the case,";
		mes "but we can't now";
		mes "because we're not done cleaning the yard yet.";
		mes "So, what I'm trying to say is";
		next;
		mes "[Order of the Knights Head]";
		mes "why don't you go";
		mes "and deal with the problem";
		mes "on behalf of the Order of the Neighborhood Knights!";
		next;
		mes "[Order of the Knights Head]";
		mes "I promise, as the Head of the Order,";
		mes "that I'll give you more work";
		mes "when you get back!";
		next;
		mes "[Other Heads]";
		mes "I approve it, as the Chief.";
		mes "You can thank me, the Boss.";
		mes "You know the Leader is the boss here, right?";
		close;
	} else if (ep14_1_rope == 11) {
		mes "[Order of the Knights Head]";
		mes "So the missing Laphine";
		mes "is dead?";
		mes "I'm sorry to hear that.";
		mes "I could have saved him.";
		next;
		mes "[Order of the Knights Head]";
		mes "I hear that there are more ^0000FFLope's Clues^000000";
		mes "in the Hazy Forest.";
		mes "Go look for the rest of them";
		mes "and bring back about 30 of them.";
		mes "They will make great souvenirs.";
		next;
		switch(select("Am I doing all the work here or what?:Yes, sir!")) {
		case 1:
			mes "[Order of the Knights Head]";
			mes "So you've noticed it?";
			mes "Darn! I should have given you work earlier!";
			close;
		case 2:
			mes "[Order of the Knights Head]";
			mes "It was worthwhile to have trained you after all.";
			mes "I'm proud of you,"+strcharinfo(0)+" Soldier!";
			next;
			mes "[Other Heads]";
			mes "I think you'll make a great right-hand man, the Chief.";
			mes "I feel rewarded, as the Boss.";
			mes "As the Leader, I'm so pleased to see you all improve.";
			set ep14_1_rope,12;
			setquest 1118;
			close;
		}
	} else if (ep14_1_rope == 12) {
		if (countitem(6383) < 30) {
			mes "[Order of the Knights Head]";
			mes "You still haven't gathered";
			mes "^0000FFLope's Clues^000000?";
			mes "I feel somewhat good,";
			mes "because that's about what I expected out of you.";
			close;
		}
		mes "[Order of the Knights Head]";
		mes "So you've brought back ^0000FFLope's Clues^000000.";
		mes "Let's see ...";
		mes "Assemble, assemble";
		mes "Attach, attach";
		next;
		mes "[Lope's Letter]";
		mes "...a traveler... attacked...";
		mes "...under disguise... deadly poison...";
		mes "...the Village... in danger...";
		next;
		mes "[Order of the Knights Head]";
		mes "What on earth does this mean?";
		mes "Well done, anyway.";
		mes "Cheer up, you will be a great head of the Knights like myself, someday.";
		next;
		mes "[Other Heads]";
		mes "I'm not so sure!";
		mes "It's too much for us.";
		mes "It's no use trying to do it.";
		completequest 1118;
		delitem 6383,30; //Clue_Of_Lope
		set ep14_1_rope,13;
		getitem 6380,2; //Mora_Coin
		getexp 1000000,1000000;
		close;
	} else if (ep14_1_rope > 12) {
		mes "[Order of the Knights Head]";
		mes "We're in trouble.";
		mes "We're sick of being knights.";
		mes "We're thinking of forming";
		mes "a circus troupe instead.";
		mes "Are you interested in trying tightrope walking?";
		next;
		switch(select("Well, I could do a fire show.:This is so absurd.")) {
		case 1:
			mes "[Order of the Knights Head]";
			mes "No, it's impossible.";
			mes "I burned down a few houses";
			mes "playing with fire.";
			close;
		case 2:
			mes "[Order of the Knights Head]";
			mes "That's the answer I expected.";
			mes "I'm proud of myself.";
			close;
		}
		close;
	}
	end;
}

mora,112,161,5	script	骑士团领袖#mo	4_F_RAFLE_YE,{
	mes "[骑士团领袖]";
	mes "我是骑士团的领袖 -";
	mes "你可以告诉我.";
	mes "你怎么来这里的? 你找我们有事?";
	next;
	mes "[另一位领袖]";
	mes "唔! 我说, 老大就是老大!";
	mes "不, 领袖是最好的!";
	mes "你怎么能呢么粗鲁! 我是这里的头!";
	emotion e_swt2,1;
	close;
}
